\documentclass{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsmath}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage[makeroom]{cancel}
\usepackage[usestackEOL]{stackengine}
\usepackage{mathtools}
\usepackage[oldvoltagedirection]{circuitikz}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{pgfplots}


\author{ale-cci}
\title{Appunti Elettronica 18/19}

\graphicspath{{img/}}
\ctikzset{bipoles/length=1.2cm}
\pgfplotsset{compat=1.16}

% No paragraph default indentation
\setlength\parindent{0pt}
\hfuzz=3pt

\everymath{\displaystyle}

\begin{document}
\maketitle{}
\tableofcontents{}
\newpage


\section{Introduzione}
Due atomi vicini tra loro si influiscono a vicenda, variando il diagramma dell'energia.
Le proprietà di esclusione continuano a valere anche per gli atomi.

Se non viene fornita energia al sistema, vengono occupate le bande pi\'u basse.

In condizioni di equilibrio, (no scambio energetico), i livelli al di sotto del \textbf{livello di Fermi} sono tutti occupati dagli elettroni, diversamente quelli al di sopra sono tutti liberi.

Fornire calore equivale ad aumentare l'energia

Materiale isolante: Bande totalmente piene o totalmente vuote

Materiale conduttore: 1 Banda Parzialmente occupata

p = densità di lacune: lacune / volume

n = densità elettroni: elettroni liberi / volume


Evento di generazione elettrone lacuna: avviene quando \'e assorbita energia. Per il principio di conservazione esiste anche l'evento opposto: evento di ricombinazione di una coppia elettrone lacuna


G = tasso di generazione = $\frac{\text{Numero di coppie generate}}{\text{tempo}\cdot\text{volume}}$

R = tasso di ricombinazione = $\frac{\text{Numero di coppie ricombinate}}{\text{tempo}\cdot\text{volume}}$

Alla saturazione G = R


Elettrone di legame \'e debolmente legato al nucleo, se riceve sufficiente energia si libera

Materiali della $5^a$ colonna sono detti donatori, se messi insieme ad atomi della $4^a$ colonna 1 elettrone viene ceduto senza generare lacune

Materiali della $3^a$ colonna sono detti accettori per motivo opposto.

Un \textit{portatore di carica} \'e una particella mobile dotata di carica, solitamente carica elettrica.

Nei semiconduttori, la carica elettrica \'e trasportata da elettroni e lacune. I portatori di carica pi\'u abbondanti vengono detti \textit{maggioritari}. Essi sono elettroni nel caso di semiconduttori a drogaggio di tipo n, e lacune  per il drogaggio di tipo p.

\subsection{28/02/19}
Corrente: carica negativa in movimento

Atomo donatore: Atomo della 5a colonna inserito per drogare

$N_D$ concentrazione di atomi donatori

$T\coloneqq$ Temperatura

In un semiconduttore intrinseco, non drogato: $n = p = n_i(T)$

\textbf{Legge di azione di massa}: $n\cdot p = n_i^2(T)$, vale sia per materiali intrinseci che per estrinseci (all'equilibrio)

\[
\begin{rcases}
    G = R\\
    G = g(T)
    R = p\cdot n \cdot r(T)
\end{rcases} \Rightarrow
g(T) = p\cdot n\cdot r(T)
\]
\[ p\cdot n = \frac{g(T)}{r(T)} = n_i(T)\]

Dato un semiconduttore uniforme caratterizzato da $N_A$ e $N_D$:

Risulta complessivamente neutro $\rightarrow Q_{tot} = 0$

Siccome \'e uniforme vale per ogni partizione del semiconduttore

$Q_{tot} = 0 \xrightarrow{uniforme} \rho = 0$ ($\rho$ densit\'a di carica)

La temperatura ambiente \'e sufficiente per considerare che gli atomi Accettori abbiano catturato un elettrone (Analogamente possiamo considerare che gli atomi donatori abbiano tutti donato)

$\rho = -qn +qp - qN_A + qN_D$

\[
    \begin{cases}
        \rho = q(N_D - N_A + p -n) = 0 & \text{(Condizione di Uniformità)} \\
        pn = n_i^2(T) & \text{(Condizione di equilibrio)}
    \end{cases}
\]

\[
    \begin{cases}
        p = \frac{n_i^2(T)}{n}\\
        N_D - N_A + \frac{n_i^2(T)}{n} - n = 0
    \end{cases}
\]

\[
    \begin{cases}
        p = \frac{n_i^2(T)}{n}\\
        n^2 + (N_A - N_D) n - n_i^2(T) = 0
    \end{cases}
\]

\[
    n_{1,2} = \frac{(N_D - N_A) \pm \sqrt{{(N_A - N_D)}^2} + 4n_i^2(T)}{2}
\]
\[
    \begin{cases}
        n= \frac{(N_D - N_A) + \sqrt{{(N_A - N_D)}^2 + 4n_i^2(T)}}{2}\\
        p= \frac{(N_A - N_D) + \sqrt{{(N_A - N_D)}^2 + 4n_i^2(T)}}{2}
    \end{cases}
\]

Nel caso in cui $N_D \gg N_A, n_i$
\[
    \begin{cases}
        n \approx \frac{N_D + \sqrt{N_D^2}}{2} = N_D\\
        p \approx \frac{n_i^2}{N_D}
    \end{cases}
\]

%TODO
\textit{Da collegare alla parte che segue + Aggiungere immagini}

\[
    \begin{cases}
        F = -qE\\
        F = ma
    \end{cases} \rightarrow q = -\frac{qE}{m}
\]

Chiamata $\mu_N$ la mobilit\'a elettronica:
\[
    \begin{cases}
        V_n = -\mu_N E\\
        V_n = \frac{dx}{dt}
    \end{cases} \Rightarrow dx = -\mu_N E dt
\]
\[
    \begin{cases}
        I = \frac{dQ}{dt} \\
        dQ = -qn\cdot dV\\
        dV = S\cdot dx
    \end{cases} \Rightarrow I = -\frac{qn\cdot dV}{dt} = -qnS(-\mu_N E) \frac{\cancel{dt}}{\cancel{dt}} = qnS\mu_N E
\]

%TODO
\section{Studio di un Semiconduttore Drogato all'equilibrio}
\textit{Aggiungere altre immagini}
\[ Jp = \frac{I}{S} = q\mu_p E \]


\[ J = J_n + J_p = q\mu_N n E + q \mu_p p E\]
All'equilibrio $J_n = J_p = 0$, La concentrazione di elettroni non \'e costante!

\[ dQ_1 = -\frac{1}{2} S q n_1 dx \]
\[ dQ_2 = -\frac{1}{2} S q n_2 dx \]

$\frac{1}{2}$  Perch\'e solo il 50\% \'e diretto nella direzione considerata

\[ I = \frac{dQ}{dt} = \frac{-\frac{1}{2}Sqn_1V_{th}dt + \frac{1}{2}Sdxn_2qV_{th}dt}{dt}  = \frac{1}{2} SqV_{th}(n_2- n_1) \neq 0 \rightarrow\text{Assurdo}\]

La carica si distribuisce equamente. Alla distribuzione delle cariche si genera un campo elettrico

\[ J_n= qDn\frac{dn}{dt} \]
All'equilibrio $J_n = q \mu_n E + qDn\frac{dn}{dx} = 0$

Dato che $E\neq 0$ ed $E \propto d\Phi$, se $n_1 \neq n_2 \Rightarrow \Phi_1 \neq \Phi_2$

\[ J_n = -q \mu_n n \frac{d\Phi}{dx} + q \frac{KT}{q} n \frac{dn}{dx} = 0 \]
\[ q\mu_n n \frac{d\Phi}{dx} = q\frac{KT\mu_n}{q}\frac{dn}{dx} \]
\[ \frac{q}{KT}\frac{d\Phi}{dx} = \frac{1}{n}\frac{dn}{dx} \]
\[ \int\frac{q}{KT}d\Phi = \int\frac{1}{n}dn \]
\[ \ln(n)\Big|_{n_1}^{n_2} = \frac{q}{KT}\Phi\Big|_{\Phi_1}^{\Phi_2} \]
\[ \ln\left(\frac{n_2}{n_1}\right) = \frac{q}{KT} (\Phi_2 - \Phi_1 ) \]
\[ \ln\left(\frac{n(x)}{n_0}\right) = \frac{q}{KT}\Phi(x) \]

\section{Studio della giunzione pn all'equilibrio}

\begin{center}
    \begin{circuitikz}
        \draw(0, 0) to[empty diode] (2, 0);
    \end{circuitikz}
\end{center}

% TODO: Aggiungere circuito per polarizzazione diretta ed inversa
Un diodo a giunzione p-n permette alle cariche elettriche di scorrere in una direzione ma non in quella opposta. Quando la giunzione p-n \'e polarizzata direttamente, la differenza di potenziale sulla giunzione diminuisce e questo fa si che possa scorrere una corrente apprezzabile verso il catodo. Quando \'e polarizzata in inversa, invece la barriera di potenziale alla giunzione aumenta e la correte inversa che pu\'o scorrere verso l'anodo \'e bassa.

Il semiconduttore \'e drogato in modo da avere una brusca variazione di droganti

%TODO: Aggiungere i grafici
\begin{tikzpicture}
    \begin{axis}
        \addplot[color=red, domain=-10:0]{0};
        \addplot[color=red, domain=0:10]{1};
    \end{axis}
\end{tikzpicture}


Presupposti per lo studio:
\begin{enumerate}
    \item Campo esterno nullo
    \item Distribuzione dei droganti a gradino
\end{enumerate}

Se gli effetti delle brusche variazioni sono trascurabili rispetto alla dimensione di un diodo, allora esistono due coordinate $\omega_n$ e $\omega_p$, a partire dalle quali possiamo trascurare gli effetti di perturbazione sulla giunzione.

\subsection{Calcolo di $\omega_n$ e $\omega_p$}


\section{Utilizzo del diodo}

\begin{circuitikz}
    \draw(0, 0) to [empty diode, v=$V_d$, i=$I$] (3,0) to [R, v=$V_u$] (3,-2) to [short] (0, -2) to [american voltage source] (0, 0);
\end{circuitikz}
$ I = I_s (\exp\left(\frac{V_D}{V_T}\right) -1) $


\section{Modello a soglia del diodo}
\subsection{Raddrizzatore a singola semi-onda}
\subsection{Limitatore di tensione superiore}
\subsection{Limitatore di tensione superiore ed inferiore}
\section{Elaborazione di pi\'u segnali}
\subsection{Circuito di rilevatore di massimo OR}
\subsection{Circuito di rilevatore di minimo AND}
\subsection{Raddrizzatore a doppia semi-onda}
\section{Studio di un raddrizzatore a singola semi-onda con un condensatore}
\section{Diodo in regime dinamico}
In \textit{polarizzazione diretta} la giunzione non \'e svuotata, in quanto predominano la diffusione rispetto al trascinamento, ci sono molti portatori

% In \textit{polarizzazione inversa} invece, il modello \'e accurato, in quanto $\phi$
\subsection{Modello a soglia dinamico di un diodo}
\subsection{Risposta al gradino in discesa del circuito raddrizzatore a singola semi-onda}
\subsection{Risposta al gradino in salita del circuito raddrizzatore a singola semi-onda}
\section{Riassunto diodo}

\section{Transistor}
3 terminali (B,E,C) e tre correnti, ($I_B$, $I_E$, $I_C$) per convenzione prese entranti nel transistor, quindi positive.

La corrente di emettitore ($I_E$) \'e composta da una corrente di lacune $I_{pE}$ ed una di elettroni $I_{nE}$, entrambe con verso entrante nella base (Le lacune essendo positive passano da emettitore a base, mentre gli elettroni passano da base ad emettitore, ma il verso della corrente \'e lo stesso per entrambe).

Da cui $I_{BE} = I_{pE} + I_{nE}$

\begin{figure}[H]
    \begin{circuitikz}
        \draw(0, 0) to[empty diode, v=$V_{BE}$, i=$I_{BE}$] (-2, 0) to[short, -*] (-3, 0) node[above]{E};
        \draw(0, 0) to[empty diode, v=$V_{BC}$, i=$I_{BC}$] (2, 0)  to[short, -*] (3, 0) node[above]{C};
        \draw(0, -1) node[right]{B} to[short, *-, i=$I$] (0, 0) ;
    \end{circuitikz}
    \centering
\end{figure}

\[ I_E = I_{BES} (\exp(\frac{V_{BE}}{V_T}) -1 )\]
\[ I_{BC} = I_{BCS} (\exp(\frac{V_{BC}}{V_T}) -1) \]
\textit{Effetto Transistore}: Una giunzione polarizzata in inversa \'e sede di forti correnti se associata ad una giunzione polarizzata in diretta che le sta vicino

\subsection{Transistor BJT}
\textit{Bipolar Junction Transistor}.
Idea di base: Per creare un invertitore basta utilizzare un interruttore

il funzionamento da interruttore \\'e legato a due particolari stati del transistor: quello di saturazione (ON) e quello di interdizione (OFF)

Nella saturazione le due giunzioni sono polarizzate direttamente.

Il tempo impiegato dal dispositivo per il passaggio da uno stato ad un altro \'e notevole. Nel caso ideale il transistor passa tra lo stato ON e lo stato OFF istantaneamente.

\begin{figure}[H]
    \begin{circuitikz}
        \draw(0, 0)  to[empty diode, v=$V_{D1}$, -*, i=$I_1$] (-2, 0) node[above]{E};
        \draw(0, 0) to[empty diode, v=$V_{D2}$, -*, i=$I_2$] (2, 0) node[above]{C};
        \draw(0, -1) node[left]{B} to[short, *-, i=$I$] (0, 0);
    \end{circuitikz}
    \begin{circuitikz}
        \draw(0,0) node[npn, rotate=-90, xscale=-1](tr){};
        \draw(tr.B) node[left]{B};
        \draw(tr.E) node[above]{E};
        \draw(tr.C) node[above]{C};
    \end{circuitikz}
    \centering
\end{figure}
\begin{itemize}
    \item B: Base
    \item E: Emettitore
    \item C: Collector
\end{itemize}

Nel caso in cui $V_{D1} > 0$ e $V_{D2} < 0$ segue che:
\begin{itemize}
    \item $I_{D1} \gg 0$ il diodo 1 \'e polarizzato in diretta
    \item $I_{D2} < 0$ il diodo 2 \'e polarizzato in inversa
\end{itemize}

\begin{figure}[H]
\includegraphics[width=2in]{placeholder}
\centering
\caption{Costruzione di un transistore col silicio\label{trans_bjt}}
\end{figure}

$\omega$ \'e la lunghezza dell'area drogata p (Vedi figura~\ref{trans_bjt}):

Per valori di $\omega$ grandi e $V_{D1} > 0$ e $V_{D2} < 0$: $I_1 \approx I$ e $I_2 \approx 0$.

Per valori di $\omega$ piccolo e $V_{D1} > 0$ e $V_{D2} < 0$: $I_1 \gg 0\approx I$ e $I_2 \ll 0$; $I_1 \approx -I_2$ e $I \approx 0$.


\subsection{Modello di transistore}
\subsection{Modello Ebers e Moll}
\begin{figure}[H]
    \begin{circuitikz}
        \draw(0, 0) to[empty diode, v=$V_{D1}$, i=$I_1$] (-2, 0) to[short, -*] (-3, 0);
        \draw(0, 0) to[empty diode, v=$V_{D2}$, i=$I_2$] (2, 0)  to[short, -*] (3, 0);
        \draw(0, -1) to[short, *-, i=$I$] (0, 0);
        \draw(-2, 0)-- (-2, 1) to[american controlled current source, invert] (2, 1)-- (2,0);
    \end{circuitikz}
    \centering
\end{figure}

Dalle leggi di Kirkoff possiamo ricavare il seguente sistema di equazioni:
\[
    \begin{cases}
        I_E = (I_{BES} + I_S) (\exp(\frac{V_{BE}}{V_T}) - 1) - I_S ( \exp(\frac{V_{BC}}{V_T}) -1 )\\
        I_C = I_S ( \exp(\frac{V_{BC}}{V_T}) -1 ) - (I_{BCS} + I_S) (\exp(\frac{V_{BC}}{V_T}) - 1)\\
        I_B = I_{BES} (\exp(\frac{V_{BE}}{V_T}) - 1) + I_{BCS} (\exp(\frac{V_{BC}}{V_T}) -1 )
    \end{cases}
\]
Studio il modello nelle varie regioni di polarizzazione
\subsubsection{Regione Normale}
\[
    \begin{rcases}
        V_{BE} > 0\\
        V_{BC} < 0
\end{rcases} \rightarrow e^{\frac{V_{BE}}{V_T}} \gg 1 \gg e^{\frac{V_{BC}}{V_T}}
\]

Da cui otteniamo
\[
    \begin{cases}
        I_E \approx (I_S + I_{BES}) (\exp(\frac{V_{BC}}{V_T}) -1) \\
        I_C \approx I_S (\exp(\frac{V_{BE}}{V_T} -1 )) \\
        I_B \approx I_{BES} ( \exp(\frac{V_{BE}}{V_T} -1 ))\\
    \end{cases}
\]

Tutte le correnti dipendono esponenzialmente dalla stessa tensione: sono proporzionali tra loro.

\[ \frac{I_C}{I_E} = \frac{I_S (\exp(\frac{V_{BE}}{V_T} -1 )}{(I_S + I_{BES})(\exp(\frac{V_{BE}}{V_T} -1)} = \frac{I_S}{I_S+I_BES} = \alpha_F < 1 \]

$I_C = \alpha_F I_E$ con $\alpha = \frac{I_S}{I_S + I_{BES}}$

$\alpha_F$ \'e chiamata \textit{Efficienza di emettitore}. Quando \'e uguale ad 1 la corrente che entra dal collettore esce uguale dall'emettitore.

\[ I_B = I_{BES}(\exp(\frac{V_{BE}}{V_t}) -1) + I_S (\exp(\frac{V_{BE}}{V_T}) -1) - I_S (\exp(\frac{V_{BE}}{V_T}) -1) = I_E - I_C \]

\subsubsection{Polarizzazione Inversa}
\[
    \begin{rcases}
        V_{BE} < 0\\
        V_{BC} > 0
    \end{rcases} \rightarrow
    e^{\frac{V_{BE}}{V_T}} \ll 1 \ll e^{\frac{V_{BC}}{V_T}}
\]

\subsection{Transistor in un circuito}

\subsection{Metodi di connessione}
\begin{itemize}
    \item Emettitore Comune

        \begin{circuitikz}
            \draw(0, 0) coordinate(O) to[short, *-] (1, 0) node[npn, anchor=B](tr){};
            \draw(O |- tr.E) to[short, *-] (tr.E);
            \draw(tr.C) to[short, -*] ++(1,0) coordinate(e);
            \draw(tr.E) to[short, -*] (e |- tr.E);
        \end{circuitikz}

    \item Base Comune

        \begin{circuitikz}
            \draw(0, 0) coordinate(O) to[short, *-] (0.5, 0) node[npn, anchor=E, rotate=-90, xscale=-1](tr){};
            \draw(tr.C) to[short, -*] ++(0.5, 0) coordinate(e);
            \draw(O |- tr.B) to[short, *-*] (e |- tr.B);
        \end{circuitikz}

    \item Collettore Comune

        \begin{circuitikz}
            \draw(0, 0) coordinate(O) to[short, *-] (1, 0) node[npn, anchor=B, yscale=-1](tr){};
            \draw(tr.E) to[short, -*] ++(1, 0) coordinate(e);
            \draw(O |- tr.C) to[short, *-*] (e |- tr.C);
        \end{circuitikz}

\end{itemize}


Studiamo solo l'\textbf{Emettitore Comune} perché \'e quello più utilizzato nei circuiti digitali

\subsubsection{Emettitore Comune}

\textbf{Porta d'ingresso}: Studio al variare di $V_{BE}$, tenendo costante $V_{CE}$

\begin{circuitikz}
    \draw(0, 0) coordinate(O) to[short, *-] (1, 0) node[npn, anchor=B](tr){};
    \draw(O |- tr.E) to[short, *-] (tr.E);
    \draw(tr.C) to[short, -*] ++(1,0) coordinate(e);
    \draw(tr.E) to[short, -*] (e |- tr.E);
\end{circuitikz}

\begin{itemize}
    \item Regione Normale
        \[
            \begin{rcases}
                V_{BE} > 0\\
                V_{BC} = V_{BE} - V_{CE} < 0
            \end{rcases}
            \Rightarrow 0 < V_{BE} < V_{CE}
        \]

        $I_B = I_{BES}(\exp(\frac{V_{BE}}{V_T}) -1 ) + I_{BCS} ( \exp(\frac{V_{BC}}{V_T}) - 1) \approx I_{BES} ( \exp(\frac{V_{BE}}{V_T} -1) $

        $I_B =I_{BES} (\exp(\frac{V_{BE}}{V_T}  -1)$, Famiglia di curve per ogni $V_{CE} > V_{BE}$

        \begin{tikzpicture}
        \begin{axis}[
            xlabel=$V_{BE}$,
            ylabel=$I_{B}$,
            grid style={dashed, gray!30},
            axis lines=middle, enlargelimits=false,
            inner axis line style={-stealth},
            xmin=-1
            ]
                \addplot{10*exp(x)};
                \addplot{50*exp(x)};
                \addplot{100*exp(x)};
                \addplot{120*exp(x)};
            \end{axis}
        \end{tikzpicture}

    \item Regione di Interdizione
        \[
        \begin{rcases}
            V_{BC} < 0 \\
            V_{BE} < 0
        \end{rcases} \Rightarrow I_B \approx -I_{BES} - I_{BCS}
        \]

        Non c'\'e effetto transistore
        \[
            \begin{cases}
                I_B = -I_{BES} - I_{BCS}\\
                V_{BE} < 0
            \end{cases}
        \]
    \item Regione di Saturazione
        \[
            \begin{rcases}
                V_{BE} > 0 \\
                B_{BC} = V_{BE} - V_{CE} > 0
            \end{rcases} \Rightarrow V_{BE} > V_{CE}
        \]

        $I_B = I_{BES}(\exp(\frac{V_{BE}}{V_T}) - 1) + I_{BCS} ( \exp(\frac{V_{BE} - V_{CE}}{V_T} - 1)$

        Siccome $V_{BE} > V_{CE} > 0$, allora possiamo trascurare i -1.

        $I_B = \left(I_{BES} + \frac{I_{BCS}}{e^{\frac{V_{CE}}{V_T}}}\right) e^{\frac{V_{BE}}{V_T}} \rightarrow$ Esponenziale in funzione di $V_{BE}$. Al diminuire di $V_{CE}$ cresce la costante moltiplicativa.

\end{itemize}

\textbf{Studio Porta di uscita}: Studio al variare di $V_{CE}$, tenendo $V_{BE}$ costante.

\begin{itemize}
    \item Regione Normale
        \[
            \begin{rcases}
                V_{BE} > 0\\
                V_{BC} = V_{BCE} - V_{CE}
            \end{rcases} \Rightarrow 0 < V_{BE} < V_{CE}
        \]

        $I_C \approx I_S \left( e^{\frac{V_{BE}}{V_T}} -1\right) \rightarrow$ Retta costante al variare di $V_{CE}$ dato che $V_{BE}$ cotante.

        Il confine della regione normale con la regione di saturazione si ha per $V_{BE} = V_{CE}$

        $I_{C_{\text{confine}}} = I_S \left( e^{\frac{V_{CE}}{V_T}} -1\right) \rightarrow$ Esponenziale di confine


        In regione normale il transistore si comporta come un generatore di corrente ideale, controllato da tensione $V_{BE}$

    \item Interdizione
        \[
            \begin{rcases}
                V_{BE} < 0\\
                V_{BC} < 0
            \end{rcases} \Rightarrow I_C \approx -I_S + (I_S + I_{BCS}) = I_{BCS} \approx 0
        \]
        Non c'\'e effetto transistore

    \item Saturazione
        \[
            \begin{rcases}
                V_{BE} > 0\\
                V_{BC} = V_{BE} - V_{CE} > 0
            \end{rcases}\Rightarrow V_{BE} > V_{CE}
        \]

        $I_S e^{\frac{V_{BE}}{V_T}} = (I_S + I_{BCS})\frac{e^{\frac{V_{BE}}{V_T}}}{e^\frac{V_{CE}}{V_T}}$

        $e^{\frac{V_{CE}}{V_T}} = \frac{I_S + I_{BCS}}{I_S} = \frac{1}{\alpha_R}$

        $V_{CE} = V_T \log\frac{1}{\alpha R} \approx 200 mV \rightarrow$ valore della tensione per cui $I_C = 0$

\end{itemize}

In uscita, il transistor BJT si comporta, in regione normale, come un generatore di corrente ideale, in cui $I_C = \beta_F I_B$, se si trascura l'effetto Early.

\subsection{Effetto Early}
Fenomeno dovuto alla variazione di tensione fra Base e Collettore.
In realtà si ha che la funzione $I_C(V_{CE}$, quando il transistor \'e in regione Normale, non \'e costante, ma debolmente crescente:
\[ I_C \approx I_S\left(e^{\frac{V_{BE}}{V_T}} -1 \right)\left(1 + \frac{V_{CE}}{V_A}\right) \]

$V_A$ Prende il nome di \textit{tensione di Early}, ed ha valori tipicamente comprese tra 10/200 V.

In regione normale la giunzione BE \'e polarizzata in diretta, mentre la giunzione BC \'e polarizzata in inversa.

\subsection{Utilizzo Transistor BJT}
Transistore non può lavorare in regione normale.



\subsubsection{Studio Circuito in Ambito Analogico}
La caratteristica statica presenta tre tratti differenti:

\begin{itemize}
    \item OFF: Tensione di uscita costante
    \item SAT: Tensione di uscita costante
    \item Regione Normale:
        Tensione di uscita cala all'aumentare di $V_i$: $\frac{d Vu}{dV_i} < 0$

        \[ V_U = V_{CC} - R I_S \left( e^{\frac{V_I}{V_T}} -1\right) \]
        \[ I_{C_0}(V_{I_0}) = I_S \left( e^{\frac{V_{I_0}}{V_T}} -1 \right)  \approx I_S e^{\frac{V_{I_0}}{V_T}} \]
        \[ \frac{dV_u}{dV_i} \Big|_{V_I = V_{I_0}}=  -\frac{R}{V_T} I_S e^{\frac{V_{I_0}}{V_T}} \approx -R\frac{I_{C_0}}{V_T}\]

\end{itemize}

\subsubsection{Studio Circuito in Ambito Digitale}
Si lavora solo con due valori: $V_H$ e $V_L$

Il circuito digitale, in quanto lavora nei tratti in cui $\frac{dV_U}{dV_i} \to 0$,  Attenua il rumore.
In un circuito analogico vengono riprodotte anche le piccole variazioni del segnale.


Il circuito digitale pu\o sopprimere il rumore, rigenerando il segnale di partenza.

\subsubsection{Confronto diodo e BJT}
Il transistor rispetto al diodo permette di
\begin{enumerate}
    \item costruire un invertitore
    \item costruire circuiti resistenti al rumore
\end{enumerate}

\textbf{Aspetto critico: Analisi delle correnti}
%TODO

\section{Modello BJT Semplificato}
%TODO: Aggiungere anche la parte del modello complessivo
Si cerca di applicare la stessa semplificazione fatta sul diodo (modello a soglia), tenendo conto però dell'effetto transistore.

\begin{minipage}[t]{0.47\textwidth}
    \begin{center}
        \textbf{Ingresso}
    \end{center}
    %TODO: Grafico

    Famiglia di esponenziali, sovrapposte fino a quando il transistore si trova in regione normale, si distaccano un po' quando va in saturazione

    Stessa approssimazione della caratteristica statica del diodo

    \begin{itemize}
        \item OFF
            \[
                \begin{cases}
                    V_{BE} < V_\gamma\\
                    I_{B} = 0
                \end{cases}\Rightarrow I_C = 0
            \]
        \item ON (Regione Normale/Saturazione)
            \[
                \begin{cases}
                    V_{BE} = V_\gamma\\
                    I_B > 0
                \end{cases}
            \]
    \end{itemize}

\end{minipage}\quad
\begin{minipage}[t]{0.50\textwidth}
    \begin{center}
        \textbf{Uscita}
    \end{center}
    %TODO: Grafico

    Curve della tensione costanti in regione normale, decrescenti in saturazione.
    \begin{itemize}
        \item OFF
            \[
                \begin{cases}
                    V_{CE} > V_{CE_{SAT}}\\
                    I_C = \beta_F I_B  \qquad \text{(costante)}
                \end{cases}
            \]
        \item ON (Regione Normale/ Saturazione)
            \[
                \begin{cases}
                    V_{CE} = V_{CE_{SAT}} \\
                    I_C < \beta_F I_B
                \end{cases}
            \]

            NOTA: La corrente $I_C$ può anche essere negativa
    \end{itemize}
\end{minipage}


\section{Logica RTL}
\textit{Resistor Transistor Logic}

%TODO: Circuito invertitore + grafico
Studio Invertitore con il modello a soglia

\begin{minipage}{0.5\textwidth}
    \begin{tikzpicture}
        \draw(0, 0) node[eground](G){} node[npn, anchor=E](tr){};
        \draw(tr.B) to[R, -*, l=$R_B$, i<=$I_B$] ++(-2, 0) node[left]{$V_i$};
        \draw(tr.C) to[short, -*] ++(0.2, 0) node[right]{$V_u$};
        \draw(tr.C) to[R, -*, i<=$I_C$] ++(0, 3) node[right]{$V_u$};
    \end{tikzpicture}
\end{minipage}
\begin{minipage}{0.5\textwidth}
    \begin{tikzpicture}
        \begin{axis}[
                xmin=-1,
                axis lines = middle,
                xlabel=$V_i$,
                ylabel=$V_u$,
                ymax=2.5,
                ymin=0
            ]
            \addplot[domain=-8:2, color=red]{2};
            \addplot[domain=2:3.8, color=red]{4-x};
            \addplot[domain=3.8:8, color=red]{0.2};
        \end{axis}
    \end{tikzpicture}
\end{minipage}

\subsubsection*{Studio del modello a soglia}
\begin{itemize}
    \item T OFF
        \[
            \begin{rcases}
                V_{BE} < V_\gamma\\
                I_B = 0\\
                I_B = \frac{V_i - V_{BE}}{R_B} = 0 \rightarrow V_i = V_{BE}
            \end{rcases}
            V_i < V_\gamma
        \]

        \[ V_u = V_{CC} \]
    \item T RN
        \[
            \begin{rcases}
                V_{BE} = V_\gamma\\
                V_u = V_{CC} - R_C I_C\\
                I_C = \beta_F I_B\\
                I_B = \frac{V_i - V_{BE}}{R_B}
            \end{rcases} \Rightarrow V_U = V_{CC} - R_C \beta_F \frac{V_i - V_\gamma}{R_B}
        \]
    \item T SAT
        \[
            \begin{rcases}
                V_{CE} = V_{CE_{SAT}}\\
                V_{CE} = V_u
            \end{rcases} \Rightarrow V_u = V_{CE_{SAT}}
        \]
    \item T INV
        \[
            \begin{rcases}
                V_{BE} < 0 &\rightarrow V_B < V_E\\
                V_{BC} > 0 &\rightarrow V_B > V_C
            \end{rcases}\qquad
            \begin{aligned}
                V_E &> V_B > V_C\\
                V_C &< V_B < 0
            \end{aligned}
        \]

        Non può accadere perché usiamo o valori alti o valori bassi, entrambi positivi.
\end{itemize}
% TODO: finish section + add graphics

Utilizzi del circuito:
\begin{itemize}
    \item Analogico: Amplificatore

        Comportamento dato dalla pendenza rettilinea in modulo > 1, permette di avere un amplificatore senza distorsione.

        Siccome la pendenza della retta \'e decrescente viene detto  \textit{amplificatore invertente}: Variazioni positive nell'ingresso corrispondono a variazioni negative nell'uscita.

        \[ |A_V | \propto \frac{R_C}{R_B} \]

        $A_V$ dipende solo da componenti esterne al transistore, (eccetto $\beta_F$ che è costante, caratteristica del processo di fabbricazione)

        Se una delle due resistenze $R_C$ o $R_B$ fosse variabile, otterremmo un \textit{amplificatore a guadagno variabile}.
    \item Digitale

        Utilizzato come invertitore. Per essere classificato come un \textit{buon invertitore} deve soddisfare:

        \begin{center}
            \begin{tabular}{c|c}
                IN & OUT \\
                \hline
                0 & 1\\
                1 & 0
            \end{tabular} $\Rightarrow$
            \begin{tabular}{c|c}
                $V_i$ & $V_u$ \\
                \hline
                $V_L$ & $V_H$\\
                $V_H$ & $V_L$
            \end{tabular}
        \end{center}
\end{itemize}


\subsubsection*{Studio Immunità ai disturbi}
$V_H - V_L$: Escursione logica

Possiamo riconoscere 3 regioni diverse:
\begin{itemize}
    \item $|A_V| > 1$
    \item Due regioni con $|A_V| = 0$
\end{itemize}
Entrambe le regioni con $|A_V| = 0$ funzionano come "attenuanti", nel caso in cui la tensione in ingresso sia troppo alta/bassa a causa di un disturbo.

% TODO: Aggiungere grafico dell'invertitore
\begin{itemize}
    \item $V_U = V_H$ per tutti i valori di $V_i < V_\gamma$, non solo per $V_i = V_L = V_{CE_{SAT}}$
    \item $V_U = V_L$ per tutti i valori di $V_i > V_i^*$, non solo per $V_i = V_{CC} = V_H$
\end{itemize}

La distanza tra valore nominale e valore peggiore consentito è l'ampiezza del massimo disturbo tollerato dal circuito.

$ N_{ML} = V_{IL_{MAX}} - V_L $: margine di immunità ai disturbi per segnali bassi ($\approx 0.55V$)

$N_{MH} = V_H - V_{IH_{MIN}}$: Margine di immunità ai disturbi per segnali alti

Margine di immunità ai disturbi del circuito: $N_M = \min \{N_{ML}, N_{MH} \}$

Per avere un margine ai disturbi ottimale, devo fare in modo che $V_{IH_{MIN}} - V_{IL_{MAX}}$ sia più piccolo possibile: cioè $|A_V| \gg 1$

%TODO: Parte finale + grafico

\subsubsection*{Studio per rumore che eccede $N_M$}
Per studiare facciamo riferimento ad una serie di invertitori a cascata:

\begin{center}
\begin{tikzpicture}
    \draw (0, 0) node[american not port](n1){}
        (1.5, 0) node[american not port](n2){}
        (3, 0) node[american not port](n3){}
        (n1.out) -- (n2.in)
        (n2.out) -- (n3.in);
\end{tikzpicture}
\end{center}

%TODO: Fine sezione

\subsection{Errore del modello a soglia}
\begin{tikzpicture}
    \draw (0, 0) node[eground]{}
        node[npn, anchor=E](tr){};
    \draw (tr.B) to[short, -*] ++(-1, 0) node[left]{$V_i$};
    \draw(tr.C) to[short, -*] ++(0.5, 0) node[right]{$V_u$};
    \draw(tr.C) to [R, -*, l=$R$, i<=$I_C$] ++(0, 2) node[right]{$V_{CC}$};
\end{tikzpicture}

Il modello a soglia non funziona perché la corrente di ingresso supera dagli intervalli considerati nelle ipotesi del modello a soglia. Quindi $V$ non è costante a $V_\gamma$

Per usare il modello a soglia bisogna che la corrente che circola su una giunzione deve circolare almeno su una resistenza (o qualcosa di simile)

\subsection{Generalizzazione $V_H$, $V_L$, $N_H$, Esclusione Logica}
\begin{tikzpicture}
    \draw (0, 0) node[eground]{}
        node[npn, anchor=E](tr){};
    \draw (tr.B) to[short, -*] ++(-1, 0) node[left]{$V_i$};
    \draw(tr.C) to[short, -*] ++(0.5, 0) node[right]{$V_u$};
    \draw(tr.C) to [R, -*, l=$R$, i<=$I_C$] ++(0, 2) node[right]{$V_{CC}$};
\end{tikzpicture}

In questo circuito non c'è una netta differenza tra $V_L$ e $V_H$: Serve un criterio analiticamente corretto per determinare $V_L$, $V_H$ ed $|A_V|$.

Considerando che l'uscita di un invertitore sarà l'ingresso di un invertitore successivo facciamo ancora riferimento alla rete di invertitori in cascata: L'ingresso degli stadi pari coincide con l'uscita degli stadi dispari, e viceversa.

\begin{tikzpicture}
    \begin{axis}[
        xmin=-0.2,
        xmax = 2,
        ymin=-0.2,
        ymax=2,
        axis lines = middle,
        unit vector ratio = 1 1 1,
        xticklabels={,,},
        yticklabels={,,},
        ]
        \addplot[color=red, domain=0:1.5]{((-x+0.7)*1.8)^3 + 0.7};
        \addplot[color=blue, domain=0:1.5, samples=200]{0.7 - (1/1.8)*((x-0.7)/abs(x - 0.7))*(abs(x - 0.7)^(1/3))};
    \end{axis}
\end{tikzpicture}

Quando gli invertitori pari sono connessi a quelli dispari devono funzionare solo i punti che appartengono ad entrambi i luoghi dei punti

Il circuito può lavorare in 3 modi diversi:
\begin{itemize}
    \item tutti gli stadi hanno $V_i = V_H$ e $V_u = V_L$ e tutti gli stadi dispari $V_i = V_L$ e $V_u = V_H$
    \item tutti gli stadi pari hanno $V_i = V_L$ e $V_u = V_H$ e tutti quelli dispari $V_i = V_H$ e $V_u = V_L$
    \item tutti gli stadi hanno $V_I = V_H = V_{TL}$
\end{itemize}
% TODO: Leggere e prendere in considerazione se inserire il resto discorso con figura dubbia

Per calcolare $V_L$ e $V_H$ (nominale) su una generica caratteristica bisogna imporre che l'uscita di una porta deve essere l'ingresso della successiva.

Bisogna trovare i punti di intersezione della caratteristica ingresso-uscita con la sua duale

Il punto C soddisfa anch'esso entrambe le caratteristiche ma è una condizione di precaria stabilità, realisticamente è impossibile lavorare in quel punto.
%TODO: leggere il resto che manca

\subsection{Porte OR a logica RTL}
\begin{tikzpicture}
    \draw (0, 0) node[left] {$V_1$} to[diode, l=$D_1$, *-] (2, 0) --(2, -1);
    \draw (0, -1) node[left]{$V_2$} to[diode, l=$D_2$, *-] (2, -1)
            node[circ, right]{$V_u$}
            to[R, l=$R$] (2, -3) node[eground]{};
\end{tikzpicture}

Basta che uno dei due diodi si accenda che l'uscita si porta al valore alto

\subsection{Porta NOR a logica RTL}
\begin{minipage}{0.6\textwidth}
\begin{tikzpicture}
    \draw (0, 0) node[above] {$V_{i_1}$}
            to[R, l=$R_B$, i=$I_B$, *-] (2,0)
            node[npn, anchor=B](tl){};
    \draw(tl.E) node[eground]{};
    \draw(tl.C) node[circ, left]{$V_u$} to[R, l=$R_C$, i<=$I_C$, -*] ++(0, 2);
    \draw(tl.C) to[short, i=$I_{C_2}$] ++(2,0)
        node[npn, anchor=C, xscale=-1](tr){};
    \draw(tr.E) node[eground]{};
    \draw(tr.B) to[R, l=$R_B$, i<=$I_B$, -*] ++(2, 0)
            node[above]{$V_{i_2}$};
\end{tikzpicture}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\begin{tabular}{cc|c|c}
    &$V_{i_1}$ & $V_{i_2}$ & $V_u$\\
    \hline
    \textcircled{1} &$V_L$ & $V_L$ & $V_H$\\
    \textcircled{2} &$V_L$ & $V_L$ & $V_H$\\
    \textcircled{3} &$V_L$ & $V_L$ & $V_H$\\
    \textcircled{4} &$V_L$ & $V_L$ & $V_H$\\
\end{tabular}
\end{minipage}

Ipotesi: $V_i$ può assumere solo 2 valori: $V_L = V_{CE_{SAT}}$ e $V_H = V_{CC}$

\begin{enumerate}
    \item
        \[
            \begin{rcases}
                \begin{aligned}
                &V_{i1} = V_L = V_{CE_{SAT}} < V_\gamma &&\Rightarrow T_1 \,\text{off} &&\Rightarrow I_{C1 = 0}\\
                &V_{i2} = V_L = V_{CE_{SAT}} < V_\gamma &&\Rightarrow T_2 \,\text{off} &&\Rightarrow I_{C2 = 0}
                \end{aligned}
            \end{rcases} \quad I_C = 0 \Rightarrow V_u = V_{CC}
        \]
    \item
        %TODO: Circuito equivalente (Invertitore RTL
        \[
            \begin{aligned}
                &V_{i1} < V_\gamma &&\Rightarrow T_1 \,\text{off} &&\Rightarrow I_{C1} = 0\\
                &V_{i2} = V_{CC} &&\Rightarrow T_2 \,\text{on} &&\Rightarrow V_{CE2} = V_{CE_{SAT}}
            \end{aligned}
        \]

    \item Analogo di \textcircled{2}
    \item
        \[
            \begin{rcases}
                V_{i1} = V_{CC} \Rightarrow T_1 on, V_{CE1} = V_{CE_{SAT}}\\
                V_{i2} = V_{CC} \Rightarrow T_1 on, V_{CE2} = V_{CE_{SAT}}
            \end{rcases} \quad V_u = V_{CE_{SAT}}
        \]
\end{enumerate}

Un invertitore RTL si può vedere come un NOR ad un solo ingresso
% TODO: Inserire resto dei calcoli invertitore

\subsection{Nor a N Ingressi}
%TODO: Schema multipli nor

La famiglia RTL è una famiglia completa dove l'elemento principale è la porta logica NOR. Per qualsiasi funzione logica che si voglia realizzare è costruibile attraverso porte NOR.

Tutte le proprietà dell'invertitore, sono riconducibili alla porta NOR che è un invertitore messo in parallelo con altri, Quindi per studiare le proprietà dei circuiti NOR RTL, basta studiare il NOT.

\subsection{Studio FAN-OUT Logica RTL}
FAN OUT: Insieme delle porte connesse in uscita

\subsection{Modello Generale (a controllo di carica)}
Per il principio di sovrapposizione degli effetti, si può considerare l'effetto reattivo complessivo come somma dei due effetti reattivi stimati in regione normale ed inversa.

\begin{minipage}{0.5\textwidth}
\begin{center}
\begin{tikzpicture}
    \draw (0, -1) to[short, *-, i=$I_B$] (0, 0)
            to[diode] (-2, 0)
            -- (-2, 1)
            to[american controlled current source] (0, 1)
            -- (0, 0)
            to[diode] (2,0)
            --(2, 1)
            to[american controlled current source] (0, 1)
            --(0, 2)
            to[C, l_=$Q_F$] (-2,2)
            to[short, i_=$\frac{dQ_F}{dt}$] (-2, 1);
        \draw (0, 2) to[C, l=$Q_R$] (2, 2)
            to[short, i=$\frac{dQ_R}{dt}$](2,1);
        \draw (-2, 0) to[short, -*, i=$I_E$] (-3, 0);
        \draw (2, 0) to[short, -*, i<=$I_C$] (3, 0);
\end{tikzpicture}
\end{center}
\end{minipage}
\begin{minipage}{0.5\textwidth}
\[
    \begin{cases}
        I_C = \frac{Q_F}{\tau_F} -\frac{Q_R}{\alpha_R \tau_R} - \frac{dQ_R}{dt}\\
        I_E = \frac{Q_F}{\alpha_F \tau_F}  - \frac{Q_R}{\tau_R} + \frac{dQ_F}{dt}\\
        I_B = \frac{Q_F}{\tau_{BF}} + \frac{Q_R}{\tau_{BR}} + \frac{dQ_F}{dt} + \frac{dQ_R}{dt}
    \end{cases}
\]
\end{minipage}

\bigbreak%
Esattamente come dal modello di Ebers e Moll, dove la carica dipende esponenzialmente da $V_{BE}$ e $V_{BC}$

% TODO: Aggiungere grafici del modello a soglia

Il modello trascura la componente di carica di svuotamento.

\subsection{Risposta al gradino in salita dell'invertitore RTL}
Bisogna analizzare se l'aumento di $R_B$ (di conseguenza la diminuzione di $I_B$) provochi problemi dinamici.

\begin{tikzpicture}
        \draw(0, 0) node[above]{$V_i$} to[R, l=$R_B$, *-] (2, 0) node[npn, anchor=B, scale=2](tr){};
        \draw(tr.B) -- (tr.B |- tr.E) to[C] (tr.E) node[eground]{};
        \draw(tr.B) -- (tr.B |- tr.C) to[C] (tr.C)
            to[R, l=$R_C$, i<=$I_C$, -*] ++(0, 2);
        \draw(tr.C) to[short, -*] ++(0.5, 0) node[right]{$V_u$};
\end{tikzpicture}
% TODO: Aggiungere grafici del transitorio

\begin{itemize}
    \item \underline{$ t < 0$} (Zona \textcircled{A})
        \[
            \begin{rcases}
                I_B = 0\\
                I_B = \frac{V_i - V_{BE}}{R_B}
            \end{rcases} V_i = V_{BE} \rightarrow Q_F = 0
        \]
        \[
            \begin{rcases}
                I_C = 0
                I_C = \frac{V_{CC} - V_u}{R_C}
            \end{rcases} V_u = V_{CC}
        \]
    \item \underline{$ t \to +\infty$} (Zona \textcircled{D})
        \[
            V_i = V_{CC} \Rightarrow V_u = V_{CE_{SAT}}
        \]
    \item \underline{$t \ge 0$} (Da Zona \textcircled{A} a \textcircled{B})

        \bigbreak%
        \begin{minipage}{0.45\textwidth}
            \begin{center}
                Zona A:
            \end{center}

           $
                \begin{cases}
                    &Q_F = 0\\
                    &V_{BE} = 0\\
                    &Q_R = 0\\
                    &I_C = \cancel{\frac{Q_F}{\tau_F}} - \cancel{\frac{Q_R}{\alpha_R \tau_R}} - \cancel{\frac{dQ_R}{dt}} = 0
                \end{cases}
           $

        \end{minipage}
        \begin{minipage}{0.45\textwidth}
            \begin{center}
                Zona B:
            \end{center}

           $
                \begin{cases}
                    Q_F = 0\\
                    Q_R  = 0\\
                    V_{BE} = V_\gamma
                \end{cases}
            $
        \end{minipage}

        $Q_F = Q_R = 0$ in tutto il tratto orizzontale: La carica è nulla e costante, le correnti sono nulle e costanti, Quindi è un transitorio istantaneo.
    \item \underline{$t > 0$} (Tratto da \textcircled{B} a \textcircled{C})
    \item \underline{$t > t_C$} (Tratto da \textcircled{C} a \textcircled{D})

        Apparentemente insignificante dato che $V_u$ è già $V_{CE_{SAT}}$, ma la carica $Q_R$ che inizia ad aumentare sarà significativa sulla risposta al gradino in discesa
\end{itemize}



\subsection{Risposta al gradino in discesa dell'invertitore RTL}
    %TODO: Copiare lo stesso circuito di prima

\section{Logica TTL}
    La logica RTL ha il problema del dimensionamento della resistenza $R_B$.

   %TODO: Resto della logica RTL
    Sostituisco $R_B$ con un componente non lineare: BJT

    \begin{circuitikz}
        \draw(0, 0) node[above]{$V_i$} to[short, *-] (0.5, 0) node[npn, anchor=E,  rotate=-90, scale=2](t1){};
        \draw(t1.B) to[R, -*, l=$R_B$, i<=$I_{B1}$] ++(0, 2) node[right](vcc){$V_{CC}$};
        \draw(t1.C) node[npn, anchor=B, scale=2](t2){};
        \draw(t2.E) node[eground]{};
        \draw(t2.C) to[R, l=$R_C$, -*] (t2.C |- vcc) node[right]{$V_{CC}$};
        \draw(t2.C) -- ++(0.2, 0) node[circ, right]{$V_u$};
    \end{circuitikz}

    \[
        \begin{rcases}
        I_{B2} = -I_{C1}
        I_{B2} > 0
    \end{rcases} \Rightarrow I_{C1} < 0
    \]

    $T_1$ non può essere in regione normale, perché $I_{C1} < 0$

    \begin{itemize}
        \item \underline{$T_2$ OFF} (Primo tratto della caratteristica statica)

            \[
                \begin{cases}
                    I_{C2} = 0\\
                    V_u = V_{CC} - R_C I_{C2} = V_{CC}\\
                \end{cases}
                \begin{cases}
                    V_{BE2} < V_\gamma\\
                    I_{B2} = 0\\
                    I_{B2} = - I_{C1}
                \end{cases} \Rightarrow I_{C1} = 0
            \]

            Ipotizzando \underline{$T_1$ OFF}:
            \[
                \begin{rcases}
                    I_{B1} = 0\\
                    V_{BE1} < V_\gamma
                \end{rcases} V_{CC} - \cancel{R_B I_{B2}} - V_{BE1} = V_i \Rightarrow V_{BE1} = V_{CC} - V_i
            \]
            \[ V_i > V_{CC} - V_\gamma \]

            Ma
            \[ V_i + V_{CE1} - V_{BE2} = 0 \Rightarrow V_i + V_{CE1} V_{BE2} < V_\gamma \]
            \[ V_i < V_\gamma - V_{CE1} \]

            Ipotesi contrastanti: $T_1$ è ON

            \underline{$T_1$ ON}
            \[
                \begin{cases}
                    V_{CE1} = V_{CE_{SAT}}\\
                    V_i + V_{CE1} - V_{BE2} = 0\\
                    V_{BE2} = V_i + V_{CE_{SAT}} < V_\gamma
                    V_i < V_\gamma - V_{CE_{SAT}}
                \end{cases}
            \]
            \[
                \begin{cases}
                    I_{C1} < \beta_F I_{B1}\\
                    V_{CC} - R_B I_{B1} - V_{BE1} = V_i\\
                    V_{BE1} = V_\gamma
                \end{cases}
            \]

            Da cui $I_{B1} = \frac{V_{CC} - V_\gamma - V_i}{R_B} > 0$ e $I_{C1} = 0$ quindi è soddisfatta la condizione di $T_1$ SAT:

            Per $V_i < V_\gamma - V_{CE_{SAT}}$ : $V_u = V_{CC}$

        \item \underline{$T_2$ SAT} ($3^o$ tratto della caratteristica)

            \[
                \begin{cases}
                    V_U = V_{CE_{SAT}}\\
                    I_{B2} > 0 \rightarrow I_{C1} < 0
                \end{cases}
            \]
            \[
                \begin{rcases}
                    V_{BE1} = V_\gamma\\
                    V_{CE1} = V_{CE_{SAT}}\\
                    I_{B1} > 0\\
                    V_{BE2} = V_\gamma
                \end{rcases}
                \begin{aligned}
                    &V_{CC} - R_B I_{B1} - V_{BE1} = V_i\\
                    &I_{B1} = \frac{V_{CC} - V_\gamma - V_i } {R_B} > 0
                \end{aligned} \Rightarrow V_i < V_{CC} - V_\gamma
            \]

            Ma questo contrasta con $V_i = V_H = V_{CC}$, quindi $T_2$ non può andare in saturazione.

        \item $T_1$ in Polarizzazione Inversa
            %TODO: T1 polarizzato in inversa
    \end{itemize}

\subsection{Funzioni Logiche a pi\'u ingressi}
%TODO: + margine di immunità ai disturbi

\subsubsection*{Studio della potenza dissipata}
Deve essere più piccola possibile, per richiedere poca energia e dissipare meno calore.

$I_{CC}$ Corrente erogata dal generatore

Potenza dissipata: $P_{D} = V_{CC} I_{CC}$

\begin{itemize}
    \item $V_i = V_L \Rightarrow T_{OFF} \Rightarrow I_{CC} = 0 \Rightarrow  P_{CC} = 0$

    \item $V_i = V_H \Rightarrow T_{ON} \Rightarrow I_{CC} > 0 \Rightarrow P_{CC} > 0$
\end{itemize}

Se $V_i$ rimane costante a valore alto, il consumo di potenza statica è diverso da zero.

Rete di \textit{PULL-UP}: se la corrente $I_C$ è nulla, l'uscita ha un valore alto.
Quando il transistor è acceso, scorre corrente sulla resistenza, abbassando il potenziale, ottenendo un uscita bassa.

\textit{Pull-Up} Attivo $\Rightarrow$ \textit{Pull-Down} Spento: uscita bassa

\textit{Pull-Down} Attivo $\Rightarrow$ \textit{Pull-Up} Spento: uscita alta


La potenza viene dissipata perché la rete di \textit{Pull-Up} è passiva. Non si può spegnere quando il \textit{Pull-Down} è acceso

%TODO: Atri due circuiti con entrambi pull-up attivo

\subsection{Studio della caratteristica dell'invertitore TTL}
%TODO: Studio circuito enorme

\section{Logica ECL}
\textit{Logica ad emettitore comune o logica differenziale}

\begin{tikzpicture}
    \draw (0, 0) node[eground]{} to[isource] (0, 1) -- ++(-1, 0) node[npn, anchor=E](t1){};
    \draw (t1.C) to[short, -*] ++(0.5, 0) node[right]{$V_u$};
    \draw(t1.C) to[R, l=$R_C$, -o] ++(0, 2) node[above]{$V_{CC}$};
    \draw (0, 1) -- ++(1, 0) node[npn, xscale=-1, anchor=E](t2){};
    \draw(t2.C) to[R, l=$R_C$, -o] ++(0, 2) node[above]{$V_{CC}$};
    \draw (t1.B) to[short, -*] ++(-0.2, 0) node[above]{$V_i$};
    \draw (t2.B) to[short, -*] ++(0.2, 0) node[above]{$V_{REF}$};
\end{tikzpicture}

$I_{E1} + I_{E2} = I_0 > 0$:
$T_1$ e $T_2$ non possono essere simultaneamente spenti

Ipotesi: $T_1$ e $T_2$ non possono saturare

\[ V_i = V_{REF} + V_{BE1} - V_{BE2} \]

Non utilizzabile il modello a soglia, in quanto $V_{BE1} = V_{BE2} = V_\gamma \Rightarrow V_i = V_{REF}$, imporrebbe alla porta logica di lavorare in un unico punto.
%TODO: Finire il resto

% Parte 3
\section{Funzioni Logiche a pi\'u Ingressi}
Esempio con NOR/OR
\subsection*{Cross-Talk}
Lo porte veloci sono soggette ad un alto rumore, dato che la corrente $I$ generata dalla capacità parassita tra due porte logiche è dipendente dalla velocità di variazione degli ingressi: $I = C\frac{dV_C}{dt}$

Ad alte frequenze, le intercomunicazioni provocano un forte rumore.

%TODO: Complete this part
\begin{itemize}
    \item Soluzione 1: diodo collegato all'uscita per aumentare escursione logica
        % TODO
    \item Soluzione 2: Stadio di buffer
        %TODO
\end{itemize}

\section{Studio del generatore di corrente (Generatore a specchio di corrente)}
Si utilizza la caratteristica di uscita di un  BJT: Quando $V_{CE} > V_{CE_{SAT}}$, allora $I_C$ varia al variare di $V_{BE}$ (Generatore pilotato)

Problemi:
\begin{itemize}
    \item
    \item Circuito molto sensibile al rumore
\end{itemize}

Soluzioni:
\begin{itemize}
    \item Per polarizzare il circuito servirebbe $V_B = V_\gamma$

        \begin{tikzpicture}
            \draw(0, 0) node[eground](G){} to[diode, invert] (0, 2) to[R, -o] (0, 4) node[right]{$V_{CC}$};
            \draw(0, 2) --(1, 2) node[npn, anchor=B](tr1){};
            \draw(tr1.C) to[short, -*, i<=$I_C$]  ++(0.5, 0);
            \draw(tr1.E) -- (tr1.E |- G) node[eground]{};
        \end{tikzpicture}
    \item Soluzione 2: Generatore a specchio di corrente

        \begin{tikzpicture}
            \draw(0, 0) node[eground]{} node[npn, anchor=E, xscale=-1](tr1){};
            \draw(tr1.C) to[R, -o] ++(0, 2);
            \draw(tr1.C) -- (tr1.B |- tr1.C) -- (tr1.B);
            \draw(tr1.B) to[short, i=$I_{B6}$] ++(0.5, 0) node[npn, anchor=B](tr2){};
            \draw(tr2.E) node[eground]{};
            \draw(tr2.C) to[short, -*, i<=$I$] ++(0.5, 0);
        \end{tikzpicture}

        Considerazioni:
        \begin{itemize}
            \item Il modello rimane valido anche se $T_6$ è in regione normale ($V > V_{CE_{SAT}}$)
            \item La corrente $I$ specchia la corrente $I_R$: Per generare una corrente costante ne genera un altra speculare (Aumenta la potenza dissipata)
        \end{itemize}
\end{itemize}

\section{Studio del generatore di tensione costante}
\begin{minipage}{0.3\textwidth}
\begin{tikzpicture}
    \draw(0, 0) node[eground]{} to[R, i<=$I_2$, l=$R_2$] (0, 2) to[R, i<=$I_1$, l=$R_1$, -o] (0, 4) node[right]{$V_{CC}$};
    \draw(0, 2) to[short, -*, i_=$I_{REF}$] ++(1, 0) node[above] {$V_{REF}$};
\end{tikzpicture}
\end{minipage}
\begin{minipage}{0.7\textwidth}
    \begin{itemize}
        \item \underline{a vuoto} ($I_{REF} = 0$)

            \begin{gather}
            \end{gather}
    \end{itemize}
\end{minipage}

\section{p-MOSFET}
\section{Studio Grandezze Fondamentali}
\section{Equazioni Caratteristiche n-MOSFET}
\section{Invertitore n-MOS a carico positivo}
\newpage
\section{Modello n-Mosfet}
\begin{circuitikz}
    \draw(0, 0) to[short, *-] (0.2, 0)
    node[nmos, anchor=G] (nm){};
    \draw(nm.S) node[eground]{};
    \draw(nm.D) to[short, *-] ++ (0, -0.2);
\end{circuitikz}

\subsection{Studio Margine di Immunit\'a ai disturbi}
\subsection{Analisi Bipolo N-Mos connesso a diodo}
\subsection{Invertitore n-mos a carico saturato}
\section{n-Mos a soglia negativa}
\section{p-Mosfet}
\section{Modello p-MOSFET ad arricchimento}
\section{Invertitore n-Mos con a carico P-MOS e $V_G = 0$}
\section{Tecnologia C-MOS}
\section{Invertitore C-MOS}
\section{Funzione a pi\'u ingressi (n-MOS)}
\section{Funzione a pi\'u ingressi (c-MOS)}
\section{Funzione Arbitraria C-MOS Ratioless}
\section{Studio Circuito Dinamico}
\section{Analisi tempo di propagazione}
\section{Transistor n-MOS in Parallelo}
\section{Transistor n-MOS in Serie}
\section{Potenza C-MOS In regime Dinamico}
% \include{parte_a}
% \include{quaderno}


%NOTE: Da qui in poi iniziano gli appunti presi a lezione

% \include{appunti_diodo}
\include{appunti_21-05-19}
\include{appunti_22-05-19}
\include{appunti_23-05-19}

% Appunti Tue 28 May 2019 02:50:49 PM CEST
\section{Integrazione di un segnale}


\begin{figure}[H]
    \centering
    \begin{circuitikz}
        \draw (0, 0)
        node[above]{$V_i$}
        to[R, *-*, l=$R$, i=$I_R$] ++(2, 0)
        coordinate(ing1)
        -- ++(0, 1)
        to[C, l=$C$, i=$I_C$] ++(2.5, 0)
        coordinate(tip);
        \draw (ing1) node[op amp, anchor=-](am){};
        \draw(am.+) -- +(0, -1) node[eground]{};
        \draw(am.out) to[short, -*] ++(2, 0)
        node[right] {$V_u$};
        \draw(tip) -- (tip |- am.out);
        \draw(am.-) to[open, v>=$V_{id}$] (am.+);
    \end{circuitikz}
    \caption{Circuito integratore invertente}
\end{figure}
In \underline{AG}:

\[ V_{Id} = 0 \rightarrow V^- = V^+ = 0 \]
\[
    \begin{rcases}
        I_R = \frac{V_i - V^- }{R}\\
        I_C = C\frac{d(V^- - V_u}{dt}\\
        -I_r = \cancel{I^-} + I_c
    \end{rcases}\Rightarrow
    \frac{V_i}{R} = -C \frac{dV_u}{dt}
    \Rightarrow \frac{dV_u}{dt} = -\frac{V_i}{RC} \rightarrow \int_0^t \frac{dV_u}{dt} dt = \int_0^t -\frac{Vi(t)}{RC} dt
\]
\[ V_u(t) - V_u(0) = -\frac{1}{RC}\int_0^t V_i(t)dt \]

\begin{center}
    \framebox{$ V_u (t) = V_u(0) - \frac{1}{RC}\int_0^t V_i(t) dt $}
\end{center}

Tutto questo vale finch\`e la tensione di uscita rimane compresa fra $\pm V_M$

A Differenza del derivatore, questo circuito ha memoria

\subsection{}

\begin{figure}[H]
    \centering
    \begin{circuitikz}
        \draw (0, 0)
        node[above]{$V_i$}
        to[R, *-*, l=$R_1$, i=$I_R$] ++(2, 0)
        coordinate(ing1)
        -- ++(0, 1)
        to[R, l=$R_2$, i=$I_R$] ++(2.5, 0)
        coordinate(tip);
        \draw (ing1) node[op amp, anchor=-](am){};
        \draw(am.+) -- +(0, -1) node[]{$V_i$};
        \draw(am.out) to[short, -*] ++(2, 0)
        node[right] {$V_u$};
        \draw(tip) -- (tip |- am.out);
        \draw(am.-) to[open, v>=$V_{id}$] (am.+);
    \end{circuitikz}
    \caption{Circuito integratore invertente}
\end{figure}

\underline{AG}
\[
    \begin{rcases}
        V^- = V_i \\
        I_1 = \frac{0-V^-}{R_1}\\
        I_2 = \frac{V^- - V_u}{R_1}\\
        I_2 = \cancel{I^-} + I_c\\
    \end{rcases}
    \frac{V_i}{R_1} = \frac{V_i - V_u}{R_2}
\]
\[
    -V_i \left(\frac{1}{R_1} + \frac{1}{R_2} \right) = - \frac{V_u}{R_2}
\]
\[ V_u = \left( \frac{1}{R_1} - \frac{1}{R_2} \right) R_2 V_i \]
\[ V_u = \left( 1 + \frac{R_2}{R_1} \right) V_i \xrightarrow{R_2 \to 0} V_u = V_i  \]


\begin{minipage}{0.45\textwidth}
    \begin{circuitikz}
        \draw (0, 0) node[eground]{} to[R, l=$R_1$] (0, 2) to[R, -*, l=$R_L$] (0, 4) node[right]{$V_{DD}$};
        \draw(0, 2) node[anchor=east]{$V_u$}-- (2, 2) to[R, l=$R_L$] (2, 0) node[eground]{};
    \end{circuitikz}
\end{minipage}
\begin{minipage}{0.5\textwidth}
    \begin{circuitikz}
        \draw (0, 0) node[eground](G){} to[R, l=$R_1$] (0, 2) to[R, -*, l=$R_L$] (0, 4) node[right]{$V_{DD}$};
        \draw(0, 2) node[anchor=east]{$V_u$} -- (1, 2) node[op amp, anchor=+](amp){};
        \draw (amp.out) to[R, l=$R_L$] (amp.out |- G) node[eground]{};
        \draw (amp.-) -- ++(0, 1) coordinate(angl)-- (angl-|amp.out) -- (amp.out);
    \end{circuitikz}
\end{minipage}

Da Partitore di tensione:
\[ V_u = \frac{R_1}{R_1 R_2} V_{DD}  = \frac{1}{1+\frac{R_2}{R_1}} V_{DD}\]

\[ V_u = \frac{1}{1 + \frac{R_2}{R_1 \parallel R_L}} V_{DD}  \qquad R_1 \parallel R_L < R_1\]


\subsection{Circuito con piu ingressi}


\begin{figure}[H]
    \centering
    \begin{circuitikz}
        \draw (-1, 0)
        node[above]{$V_i$}
        to[R, *-*, l=$R_1$, i=$I_R$] (2, 0)
        coordinate(ing1)
        -- ++(0, 1)
        to[R, l=$R$, i=$I_R$] ++(2.5, 0)
        coordinate(tip);
        \draw (-1, -1) node[above]{$V_2$} to[R, l=$R_2$, *-] (1.5, -1) -- (1.5, 0);
        \draw (ing1) node[op amp, anchor=-](am){};
        \draw(am.+) -- +(0, -1) node[eground]{};
        \draw(am.out) to[short, -*] ++(2, 0)
        node[right] {$V_u$};
        \draw(tip) -- (tip |- am.out);
    \end{circuitikz}
    \caption{Circuito sommatore analogico}
\end{figure}

\underline{AG}
\[ V_id = 0 \rightarrow V^- = V^+ = 0\]
Applicando Kirkoff

\[ \begin{rcases}
        I_1 + I_2 = I^- + I_R\\
        I_1 = \frac{V_1 - \cancel{V^-}}{R_1} \\
        I_2 = \frac{V_2 - \cancel{V^-}}{R_2} \\
        I_R = \frac{V^- - V_u}{R} = -\frac{V_u}{R}\\
    \end{rcases}
    \frac{V_1}{R_1} + \frac{V_2}{R_2} = -\frac{V_u}{R} \rightarrow V_u = -R\left( \frac{V_1}{R_1} + \frac{V_2}{R_2}\right)  \xrightarrow{R_1 = R_2 = R^*} V_u = -\frac{R}{R^*}(V_1 + V_2)
\]

Questo circuito permette di calcolare direttamente in maniera analogica una combinazione lineare di ingressi

Provando a progettare un sommatore di tipo digitale:

(X: Grafico con sommatoria)

\textbf{ADC}: Analog Digital converter

\textbf{DAC}: Digital Analog Converter

Blocco Sommatore: Es $3+6$

\begin{tabular}{c c c c c}
    1 & 1 & \\
    0 & 0 & 1 & 1 & + \\
    0 & 1 & 1 & 0 & = \\
    \hline
    1 & 0 & 0 & 1
\end{tabular}

(X: Grafico sommatore a propagazione di riporto)
(RCA: Ripple Carry Adder)

Dal circuito possiamo distinguere un HA (Half Adder) e 3 FA (Full Adder)

In questo caso aggiungere bit vuol dire aggiungere ritardo, siccome \'e tutto in cascata. Nel caso analogico \'e tutto in parallelo. Quindi aggiungere altri bit non comporta ritardo

\begin{tabular}{c c|c c}
    a & b & $c_H$ & $S_H$\\
    \hline
    0 & 0 & 0 & 1 \\
    0 & 1 & 0 & 1 \\
    1 & 0 & 0 & 1 \\
    1 & 1 & 1 & 0
\end{tabular}

% \begin{circuitikz}
%     \draw (0, 0) node[left](zero){$a$} to[short, *-]  (2, 0) node[and port, anchor=in 1](ch){}
%     \node at (1.5, |- ch.in 2)[jump crossing](X);
%     \draw (0, -2) node[left]{$b$} to[short, *-] (1, -2) -- (1, |- X.west) -- (X.west);
%     \draw (X.east) -- (ch.in 2);
%     \draw (X.north |- zero) -- (X.north);
%     \draw (X.south) -- (X.south |- ,-2) ;
% \end{circuitikz}

$1^a$ mappa k
\begin{center}
    \begin{tabular}{c|c c c c}
    & 00 & 01 & 11 & 10\\
    \hline
        0 & 0 & 0 & 1 & 0\\
        1 & 0 & 1 & 1 & 1\\
    \end{tabular}
\end{center}
\[ C_{out} = ab + C_{in} (a+b) = \]

ricordando che $a + b = ab + \bar{a}b + a\bar{b}$ (Dalla tabella dell'or)
\[ ab \cancel{(a + C_{in})} + C_{in}(a\bar{b} + \bar{a}b) = C_H ++ C_{in} \cdot S_H \]

$2^a$ mappa k
\begin{center}
    \begin{tabular}{c|c c c c}
    & 00 & 01 & 11 & 10\\
    \hline
        0 & 0 & 1 & 0 & 1\\
        1 & 1 & 0 & 1 & 0\\
    \end{tabular}
\end{center}
\[ S = \bar{C_{in}} \bar{a} b + \bar{C_{in}} a \bar{b} + C_{in} \bar{a}\bar{b} + C_{in} ab \]
\[ S = \bar{C_{in}}( a\bar{b} + \bar{a}b) + C_{in}(ab + \bar{a}\bar{b}) = \bar{C_{in}} S_H + C_{in} \bar{S_H} = C_{in} \oplus S_H\]

La porta analogica \'e piu veloce e meno ingombrante di quella digitale, ma non \'e immune al disturbo


% Appunti Wed 29 May 2019 03:40:33 PM CEST

\section{Circuito Sottrattore}
\begin{circuitikz}
    \draw (0, 0) node[left]{$V_i$} to[R, o-] (2, 0)
    node[op amp, anchor=-](amp){};
    \draw (amp.+) to[R] ++(0, -2) node[eground]{};
    \draw (amp.-) -- ++(0, 1) coordinate(ang)
    (ang) to[R]  (amp.out |- ang) -- (amp.out) to[short, -o] ++(1, 0) node[right]{$V_u$};
    \draw (0, |- amp.+) node[left]{$V_2$} to[R, o-] (amp.+);
\end{circuitikz}
\underline{AG}

\[
    \begin{rcases}
        V_{id} = 0 \rightarrow V^+ = V^-\\
        \begin{rcases}
            I_1 = I_2 + \cancel{I^+} \\
            I_1 = \frac{V_2 - V^+}{R} \\
            I_2 = \frac{V^+}{R}
        \end{rcases}
        \rightarrow \frac{V_2 + V^+}{\cancel{R}} = \frac{V^+}{\cancel{R}} \rightarrow V_2 = 2V^+ \rightarrow V^+ = \frac{V_2}{2}
    \end{rcases} \rightarrow
    \begin{rcases}
        V^- = \frac{V_2}{2}\\
        I_3 = I_4 + \cancel{I^-}\\
        I_3 = \frac{V_1 - V^-}{R}\\
        I_4 = \frac{V^- - V_u}{R}
    \end{rcases}
    \frac{V_1 - \frac{V_2}{2}}{\cancel{R}} = \frac{\frac{V_2}{2} - V_u}{\cancel{R}}
\]

\begin{center}
    \framebox{$V_u = V_2 - V_1$}
\end{center}


\section{Amplificatore logaritmico}
\begin{circuitikz}
    \draw (0, 0) node[left]{$V_i$} to[R, o-] (2, 0)
    node[op amp, anchor=-](amp){};
    \draw (amp.+) -- ++(0, -1) node[eground]{};
    \draw (amp.-) -- ++(0, 1) coordinate(ang)
    (ang) to[diode]  (amp.out |- ang) -- (amp.out) to[short, -o] ++(1, 0) node[right]{$V_u$};
\end{circuitikz}
\underline{AG}
\[
    \begin{rcases}
        V_{id} = 0 \rightarrow V^+ = V^- = 0\\
        I_R = I_D + \cancel{I^-}\\
        I_R = \frac{V_i - V^-}{R}
        I_D = IS \left(e^{\frac{(V^- - V_u)}{V_T}} - 1\right)
    \end{rcases}\rightarrow
    \frac{V_i}{RI_s} = \left(e^{\frac{(V^- - V_u)}{V_T}} - 1\right)
\]
\[
    e^{\frac{(V^- - V_u)}{V_T}} = \frac{V_i}{RI_S} + 1
    \xrightarrow{\ln} \ln\left(e^{-\frac{V_u}{V_T}}\right) = \ln\left( \frac{V_i}{RI_S} + 1\right)
\]
\bigbreak
\[ V_u = -V_T \ln\left( \frac{V_i}{RI_S -1} \right) \]
(Grafico: Amplificatore logaritmico)

\section{Amplificatore esponenziale/Anti-logaritmico}
\underline{AG}
\[
    \begin{rcases}
        V_{id} = 0 \rightarrow V^+ = V^- = 0\\
        I_D = I_R + \cancel{I^-}\\
        I_D = I_S \left(e^{\frac{V_i - V^-}{V_T}} -1 \right)\\
        I_R = \frac{V^- - V_u}{R}
    \end{rcases} \rightarrow
    I_S \left(e^{\frac{V_i}{V_T}}-1\right) = -\frac{V_u}{R} = -RI_S \left( e^{\frac{V_i}{V_t} -1}\right)
\]

Amplificatore antilogaritmico

Ricordando che
\[ \ln (A+B) = \ln(A) \cdot \ln(B) \]

(X: Circuito Sommatore)

Non \'e un caso che il ramo in retroazione sia sul morsetto negativo:

\begin{minipage}{0.45\textwidth}
    \begin{tikzpicture}
        \begin{axis}[axis lines=middle, ymax=3, ymin=-3, yticklabels=\empty, xticklabels=\empty, xlabel=$V_i$, ylabel=$V_u$]
            \addplot[color=red, domain=-4:-1]{2};
            \addplot[color=red, domain=1:4]{-2};
            \addplot+[mark=none, color=red] coordinates{(-1, 2) (1, -2)};
        \end{axis}
    \end{tikzpicture}
\end{minipage}
\begin{minipage}{0.5\textwidth}
    \begin{tikzpicture}
        \begin{axis}[axis lines=middle, ymax=3, ymin=-3, yticklabels=\empty, xticklabels=\empty, xlabel=$V_i$, ylabel=$V_u$]
            \addplot[color=red, domain=-1:4]{2};
            \addplot[color=red, domain=-4:1]{-2};
            \addplot+[mark=none, color=red] coordinates{(-1, 2) (1, -2)};
        \end{axis}
    \end{tikzpicture}
\end{minipage}

\underline{AG}
\[
    \begin{rcases}
        V_{id} = 0 \rightarrow V^+ = V^- = 0 \\
        I_1 = I_2 + \cancel{I^+}\\
    \end{rcases} \frac{V_i}{R_1} = -\frac{V_u}{R_2} \rightarrow V_u = -\frac{R_2}{R_1}V_i \qquad \text{Per} -V_M < V_u < V_M
\]

\underline{SAT +}

\[
    \begin{rcases}
        \begin{rcases}
            V_{id} > 0, \quad V_u = +V_M\\
            V_{id} = V^+ - V^-
        \end{rcases} \rightarrow
        V^+ > 0\\
        \frac{V_i - V^+ }{R_1} = \frac{V^+ - V_u}{R_2}
    \end{rcases}
    \frac{V_i - V^+}{R_1} = \frac{V^+ - V_M}{R_2}
\]
\[ V^+ \left( \frac{1}{R_2} + \frac{1}{R_1} \right) = \frac{V_i}{R_1} + \frac{V_M}{R_2} \]
\[V^+ \left(\frac{R_1 + R_2}{\cancel{R_1 R_2}}\right) = \frac{V_iR_2 + V_M R_1}{\cancel{R_1 R_2}} \]
\[ V^+ = \frac{R_2V_i + R_1 V_M}{\cancel{R_1 + R_2}} > 0\]
\[ \cancel{R_2} V_i > -\frac{R_1 V_M}{R_2} \]

\underline{SAT -}
\[
    \begin{rcases}
        V_{id} < 0 \rightarrow V^+ - V^- < 0 \rightarrow V^+ < 0\\
        V_u = -V_M
    \end{rcases} \ldots \rightarrow V^+ = \frac{R_2V_i - R_1V_M}{\cancel{R_1 + R_2}} < 0 \Rightarrow \cancel{R_2} V_i < \frac{R_1}{R_2} V_M
\]

Se il guadagno d'anello \'e maggiore di $1$ in modulo si \'e rischio di stabilit\'a

Guadagno amplificatore operazionale $\to \infty$ in alto guadagno
\section{Circuito Bistabile (Circuiti Schmitt trigger)}

\begin{circuitikz}
    \draw (0, 0) node[eground]{} to[R] (2, 0)
    node[op amp, anchor=-](amp){};
    \draw (amp.+) to[short, -o] ++(-0.5, 0) node[left]{$V_i$};
    \draw (amp.-) -- ++(0, 1) coordinate(ang)
    (ang) to[R]  (amp.out |- ang) -- (amp.out) to[short, -o] ++(1, 0) node[right]{$V_u$};
\end{circuitikz}


\underline{AG}
\[
    \begin{rcases}
        V_{id} = 0  \rightarrow V^+ = V^- = V_i\\
        I_1 = I_2 + \cancel{I^+}\\
        \frac{0 - V^+}{R_1} = \frac{V^+ - V_u}{R_L}
    \end{rcases}
    -\frac{V_i}{R_1} = \frac{V_i - V_u}{R_2} \rightarrow -V_i \left( \frac{R_2}{R_1} + 1\right) = V_u \Rightarrow V_u = V_i\left( 1 + \frac{R_1}{R_2}\right)
\]

\[ V_M = V_i^*\left( 1 + \frac{R_2}{R_1}\right) \rightarrow V_i^* = \frac{V_M}{1 + \frac{R_2}{R_1}} \]
\underline{SAT +}
\[
    \begin{rcases}
        \begin{rcases}
            V_u = +V_M\\
            V_{id} > 0 \rightarrow V^+ > V^- = V_i\\
            I_1 = I_2 + \cancel{I^+}\\
            \frac{0 - V^+}{R_1} = \frac{V^+ - V_u}{R_2}
        \end{rcases} \rightarrow -\frac{V^+}{R_1} = \frac{V^+ - V_M}{R_2} \rightarrow -V^+ \left( \frac{1}{R_1} + \frac{1}{R_2} \right)= - \frac{V_M}{R_2}\\
        V^+\left( \frac{R_1 + R_2}{R_1\cancel{R_2}}\right) = \frac{V_M}{R_2} \rightarrow
        V^+ =\frac{R_1}{R_1 + R_2} V_M = \frac{V_M}{1+\frac{R_2}{R_1}}
    \end{rcases}
    V_i < \frac{V_M}{1 + \frac{R_2}{R_1}}
\]
\subsection{Trigger invertente}
\begin{center}
    \begin{tikzpicture}
        \begin{axis}[axis lines=middle, ymax=3, ymin=-3, yticklabels=\empty, xticklabels=\empty, xlabel=$V_i$, ylabel=$V_u$]
            \addplot[color=red, domain=-4:1]{2};
            \addplot[color=red, domain=-1:4]{-2};
            \addplot+[mark=none, color=red] coordinates{(-1, -2) (1, 2)};
        \end{axis}
    \end{tikzpicture}
\end{center}


\subsection{Trigger non invertente}
\begin{center}
    \begin{tikzpicture}
        \begin{axis}[axis lines=middle, ymax=3, ymin=-3, yticklabels=\empty, xticklabels=\empty, xlabel=$V_i$, ylabel=$V_u$]
            \addplot[color=red, domain=-1:4]{2};
            \addplot[color=red, domain=-4:1]{-2};
            \addplot+[mark=none, color=red] coordinates{(-1, 2) (1, -2)};
            \addplot+[mark=none, color=blue] coordinates{(-4, -2) (1, -2) (1, 2) (4, 2)};
            \addplot+[mark=none, color=green] coordinates{(4, 2) (-1, 2) (-1, -2)};
        \end{axis}
    \end{tikzpicture}
\end{center}

Aumentando il valore della tensione di ingresso (da Va) continuo a rimanere nello stesso tratto di curva, senza salti

Se sono al valore basso $-V_M$, per passare al valore alto devo applicare una tensione di ingresso che \'e almeno $V^*$
Se sono al valore alto, per passare al valore basso devo applicare una tensione che \'e minore di $-V^*$

Nella fascia di ambiguit\'a se sono al valore basso rimango al valore basso, se sono a quallo alto rimango in quello alto

Viene percorso un \textbf{Ciclo di isteresi}

Questo circuito \'e Molto pi\'u resistente al rumore rispetto ad un circuito a soglia per la fascia di ambiguit\'a

Applicando prima un segnale molto positivo, e riportando il segnale a 0 l'uscita rimane positiva. L'uscita del valore in 0, dipende dalla `storia' del circuito. Questo circuito si ricorda se l'ultimo valore applicato \'e positivo o negativo (\'e una Cella di memoria).

\'E in grado di mantenere fin tanto che \'e acceso un valore binario in memoria $\rightarrow$ Passaggio da reti combinatorie a reti sequenziali

\newpage
%Appunti del  Thu 30 May 2019 03:01:57 PM CEST
\section{Circuito Astabile}

\begin{circuitikz}

\end{circuitikz}
(X: Circuito 1)

\[
    \begin{split}
        &V_i(0) = 0\\
        &V_u(0) = V_M \rightarrow \text{SAT +?} \rightarrow V_{id} > 0 \text{?}
    \end{split}
\]

La condizione di alto guadagno del circuito abbiamo gi\'a visto che \'e sospetta (instabile), Possiamo presupporre che sia piu facile trovarsi in una delle due altre regioni

Ipotizzo inizialmente che la tensione all'inizio sia $V_M$ (in saturazione positiva)

Posso dire, svolgendo calcoli analoghi ai precedenti:
\[
    \begin{rcases}
        V_i = V^- = 0\\
        V^+ = V_M \frac{R_1}{R_1 + R_2} = \frac{V_M}{1 + \frac{R_2}{R_1}} > 0
    \end{rcases} V_{id} = V^+ - V^- > 0 \rightarrow \text{\'E in saturazione positiva!}
\]

\[
    \begin{rcases}
        I_R =\frac{V_i - V_u}{R}\\
        V_u = V_M\\
        I_C = C\frac{dV_i}{dt}\\
        I_C = - I_R
    \end{rcases}
    C \frac{dV_i}{dt} = - \frac{V_i - V_M}{R}
\]

Siccome $V_i$ innizialmente \'e uguale a 0, $V_M$ \'e positivo, vuol dire che il condensatore si sta caricando
\[
    \frac{dV_i}{V_i - V_M} = -\frac{dt}{RC}
\]

\[
    \int_{V_i(0) = 0}^{V_i(t)} \frac{dV_i}{V_i - V_M} = \int_0^t - \frac{dt}{RC}
\]
\[ -\frac{t}{RC} = -\ln\frac{V_i(t) - V_M}{-V_M}\xrightarrow{\exp} e^{-\frac{t}{RC}} = \frac{V_i(t) - V_M}{-V_M} \]
\[ V_i(t) = V_M - V_M e^{-\frac{t}{RC}} = V_M \left(1 - e^{-\frac{t}{RC}}\right) \]

Questo vale fino a quendo $V_i < Vi^*$

Osservando il condensatore nel momento $V_i = Vi^*$ (Il momento in cui cado nel ramo di saturazione negativa):

\[
    \begin{rcases}
        V_i^* > 0\\
        V_u = -V_M\\
        V^- = V_i\\
        V^+ = -V_M \frac{R_1}{R_2} = -\frac{V_M}{1 + \frac{R_2}{R_1}}\\
    \end{rcases}
        V_{id} = V^+ - V^- < 0 \rightarrow \text{Saturazione negativa}\\
    \]

\[
    \begin{rcases}
        I_R = \frac{V_i - V_u}{R} > 0\\
        I_R = -I_C
    \end{rcases} I_C < 0
\]

\begin{tikzpicture}
    \begin{axis}[axis lines=middle,
        ymax=3, ymin=-3,
        xmax=10,
        yticklabels=\empty, xticklabels=\empty, xlabel=$t$, ylabel=$V_i$]
        \addplot[color=red, domain=0:2]{3*(1-exp(-x))};
    \end{axis}
\end{tikzpicture}
\begin{tikzpicture}
    \begin{axis}[axis lines=middle,
        ymax=3, ymin=-3,
        xmax=10,
        yticklabels=\empty, xticklabels=\empty, xlabel=$t$, ylabel=$V_i$]
        \addplot[color=red, domain=0:2]{2};
        \addplot+[mark=none] coordinates{(2, 2) (2, -2)};
        \addplot[color=red, domain=2:4]{-2};
        \addplot+[mark=none, color=red] coordinates{(4, -2) (4, 2)};
        \addplot[color=red, domain=4:6]{2};
        \addplot+[mark=none, color=red] coordinates{(6, 2) (6, -2)};
        \addplot[color=red, domain=6:8]{-2};
    \end{axis}
\end{tikzpicture}

Continua ad oscillare, la frequenza dipende da $RC$

\begin{center}
\begin{circuitikz}
    \draw (0, 0) node[not port](n1){};
    \draw (n1.out) to[C] ++(0, -1) node[eground]{};
    \draw (n1.out) -- ++(1, 0) node[not port, anchor=in](n2){};
    \draw (n2.out) to[C] ++(0, -1) node[eground]{};
    \draw (n2.out) -- ++(1, 0) node[not port, anchor=in](n3){};
    \draw (n3.out) -- ++(0, -2) -- (n1.in |-, -2) -- (n1.in);
\end{circuitikz}
\end{center}

Attraversando una serie di porte logiche di questo tipo posso rigenerare il segnale (Qualit\'a rigenerativa delle logiche digitali)

Per controllare il ritardo del segnale basta metter in cascata pi\'u invertitori

Per controllare la frequenza dell'onda quadra, basta che aumenti il numero di ritardi? (Domanda Felice)

Dopo un numero pari di inversioni, se in ingresso si ha un valore alto, in uscita avr\'o lo stesso valore $\rightarrow$ Circuito bistabile

(Grafico 2)
\begin{tikzpicture}
    \begin{axis}[axis lines=middle,
        ymax=3, ymin=-3,
        xmax=10,
        yticklabels=\empty, xticklabels=\empty, xlabel=$x$, ylabel=$y$]
        \addplot[color=red, domain=0:1]{2};
        \addplot[color=red, domain=2.5:6]{0};
        \addplot+[mark=none, color=red] (1, 2)  parabola (2.5, 0);
    \end{axis}
\end{tikzpicture}

Questo circuito ha memoria; Se sono in grado di scrivere un valore alto o basso su quel nodo, l'uscita in 0 rimane salvata

(X: Circuito porte 2)

\begin{center}
\begin{circuitikz}
    \draw (0, 0) node[not port](n1){};
    \draw (n1.out) to[C] ++(0, -1) node[eground]{};
    \draw (n1.out) -- ++(1, 0) node[not port, anchor=in](n2){};
    \draw (n2.out) to[C] ++(0, -1) node[eground]{};
    \draw (n2.out) -- ++(1, 0) node[not port, anchor=in](n3){};
    \draw (n3.out) -- ++(0, -2) -- (n1.in |-, -2) -- (n1.in);
\end{circuitikz}
\end{center}
Nel caso l'interruttore sia attaccato: $Q = D$, altrimenti $Q^1 = Q$

Se voglio cambiare il valore memorizzato basta aprire l'anello ed applicare un valore dall'esterno

Utilizzando un segnale di clock al posto del segnale di scrittura, questo circuito alterna nel tempo una fase di scrittura e di lettura.
Circuito \underline{Trasparente}
\[
    \begin{aligned}
        CK &= 1 \rightarrow Q = D \rightarrow \text{Fase di valutazione dell'ingresso, EVALUATION}\\
        CK &= 0 \rightarrow Q^1 = Q \rightarrow \text{Fase di mantenimento, HOLD}
    \end{aligned}
\]

Questo circuito non \'e ancora un \textit{Flip Flop}, ma un \textit{Latch}. Quando siamo a $0$ l'uscita \'e bloccata all'ultimo segnale

(X: Grafici clock)
\begin{tikzpicture}
    \begin{axis}[axis lines=middle,
        ymax=3, ymin=-3,
        xmax=10,
        yticklabels=\empty, xticklabels=\empty, xlabel=$CK$]
        \addplot[color=red, domain=0:2]{2};
        \addplot+[mark=none] coordinates{(2, 2) (2, -2)};
        \addplot[color=red, domain=2:4]{-2};
        \addplot+[mark=none, color=red] coordinates{(4, -2) (4, 2)};
        \addplot[color=red, domain=4:6]{2};
        \addplot+[mark=none, color=red] coordinates{(6, 2) (6, -2)};
        \addplot[color=red, domain=6:8]{-2};
    \end{axis}
\end{tikzpicture}

(X: Altro grafico)
Dall'ultimo grafico si pu\'o vedere che non \'e un comportamento da rete sincron. Quello che posso fare \'e aggiungere a queso oggetto un secondo stadio, passando ad un circuito di tipo Master-Slave

Chiamo questo circuito \textit{p-latch}

(X: Circuiti n-latch, caso duale dell' n-latch)

Per creare un circuito di tipo master-slave basta che metto in cascata un circuito\textit{n-latch} con uno \textit{p-latch}.

(X: Foto 1)
(X: Grafici ambigui dopo foto)

Lo slave legge solo un valore: Quello alla fine dello stato di valutazione del master $\rightarrow$ Il valore dell'uscita pu\'o essere aggiornato solo nei fronti di discesa del clock. $\rightarrow$ \textit{Flip flop} sincrono

(X: Immagine flip flop, (post grefici ambigui))

Per un flip flop Positive triggered (Campionato sul fronte positivo): Scambiare p ed n latch; Prima il P dopo N latch

\subsection{Multiplexer}

(X: Circuito Multiplexer)
\begin{tabular}{c|c c c c}
    s-ab & 00 & 01 & 11 & 00\\
    \hline
    0  & 0 & 1 & 1 & 0  \\
    1 & 0 & 0 & 1 & 1
\end{tabular}
$\Rightarrow y = as + b\bar{s}$


(X: Or ingressi negati)


$ z = \bar{x} + \bar{y} = \bar{xy}$ (NAND)

MUX mi costa 12 transistori +2. Per fare un latch utilizzoaltri 2 transistori $\rightarrow$ Latch utilizza 16 (+2) transistori
Per la configurazione master-slave (\textit{Flip Flop di tipo D}) ne servono altri 16


\newpage
\section{Appunti Tue 04 Jun 2019 02:57:14 PM CEST}

\textbf{Multiplexer} $y = sa + \bar{s}b \Rightarrow \bar{y} = sa + \bar{s}b$

(X: Figura con transistori)


Non \'e un problema se il segnale $y$ torna invertito, lo devo utilizzare invertito nel circuito master-slave ugualmente

Per fare il multiplexer, prima servivano 16 transistori, ora nella figura siamo passati a 10. prima il segnale per andare dall'ingresso all'uscita deve attraversare due strati di nand e due di not, ($\times 2$ con master slave), nel nuovo circuito deve attraversarne solo 2.

\`E possibile implementare il mux anche con due interruttori; L'idea diventa quindi sostituire ai due interruttori due transistori controllari da una corrente (Da 8 a 2 transistori). (\textit{Pass Transistor})

Questo \'e il primo caso dove la corrente d'ingresso $I \neq 0$

\begin{circuitikz}
    \draw (0, 0) node[eground] {}
    to[C] (0, 2);
\end{circuitikz}

\underline{Caso $t < 0$}

M off
\[
    \begin{rcases}
         I_D = 0\\
         I_D = I_c
     \end{rcases} \rightarrow I_c = 0 \rightarrow I_C = C\frac{dV_u}{dt} = 0 \rightarrow V_u = cost
\]

 Se l'ingresso \'e 0, l'uscita pu\'o trovarsi in un uscita in condizioni di alta imedenza.
Il valore si mantiente dentro al condensatore

DRAM: Memoria dinamica associata ad un condensatore
questo circuito ha 3 tipi d'uscita

\begin{enumerate}
    \item alta
    \item bassa
    \item alta impedenza
\end{enumerate}

Nel momento in cui si accende il transistore i casi possibili sono:

\begin{tabular}{c c c}
    $V_i$ & $V_u$ \\
    \hline
    $V_L$ & $V_L$ & -\\
    $V_L$ & $V_H$ & * $V_u : V_H\to 0$\\
    $V_H$ & $V_L$ & ** $V_u: 0 \to V_{DD} - V_T$\\
    $V_H$ & $V_H$ & -\\
\end{tabular}

Studio il primo dei due fenomeni (*):

il nodo $V_u$ ha sempre potenziale piu alto rispetto all'ingresso, di conseguenza \'e il Drain, mentre $V_I$ \'e il source

\[
    \begin{rcases}
        I_D = - I_C\\
        I_D \ge 0\\
        I_C = C\frac{dV_u}{dt}
    \end{rcases}
    C\frac{dV_u}{dt} < 0
\]

Derivata negativa, la cerica del condensatore si sta esaurendo\\
Esattamente quello scritto quando abbiamo calcolato il tempo di scarica del condensatore cmos

Il transitorio termina quando la derivata si annulla $\rightarrow$ la corrente si annulla $\rightarrow V_{DS} = V_u$ si annulla

Tende ad assumere asintoticamente il valore nullo


Studiando il caso (**)
Drain e Source sono invertiti
\[
    \begin{rcases}
    I_D = I_C\\
    I_D \ge 0\\
    I_C = C \frac{dV_u}{dt}
\end{rcases}
C \frac{d V_u}{dt} \ge 0
\]


\[ I_D = \frac{\beta}{2}\left( V_{GS} - V_T\right) ^2 = 0 \]
\[ V_{DD} - V_i \rightarrow V_u = V_{DD} - V_T \]

Questo pass transistor \'e capace di trasferire uno \textit{0 Forte} ed un un \textit{1 Debole}
%%
Supponendo ora di avere lo stesso caso di prima (Alto in ingresso e basso in uscita che voglio portare alto) $\rightarrow$ Transitorio di carica di un invertitore cmos, inizialmente saturo fino a quando la tensione di uscita $> V_{TP} $, poi va in lineare

Quindi sappiamo gi\'a che l'uscita si porta da al valore $V_{DD}$

SAT $\to I_D = \frac{\beta_D}{2}\left(V_{SG} - |V_{TP}|\right)^2 = 0 \rightarrow V_{SG} = V_u = |V_{TP}|$

La rete di pulldown non \'e capace di scaricare completamente il transistore, si ferma una soglia prima

\bigbreak{}
\begin{tabular}{c c}
    $V_u : V_H \to V_L$ & n 0 forte\\
                        & p 0 debole  ($|V_{TP}|)$\\
                        \hline
    $V_u: V_L \to V_H$ & n 1 debole ($V_{DD} - V_T$)\\
                       & p 1 forte\\
\end{tabular}


Metto insieme p ed n mos per migliorare le prestazioni

\[ V_u : 0 \xrightarrow{n SAT\\p SAT} |V_{TP}| \xrightarrow{n SAT\\ p LIN} V_{DD} - V_{TN} \xrightarrow{OFF, LIN} V_{DD} \]
\[ V_u : V_{DD} \xrightarrow{n SAT\\ p SAT} V_{DD} - V_{TN} \xrightarrow{LIN\\SAT} |V_{TP}| \xrightarrow{LIN, OFF} 0 \]

Un oggetto di questo tipo si chima \textit{transmission gate}

Passando attraverso due invertitori, il valore d'uscita viene rigenerato

Questo multiplexer non \'e immune ai disturbi, il meglio che posso sperare \'e che il segnale esce ridotto al massimo di quanto ci aspettiamo

\begin{tabular}{c c|c}
    a & b & y\\
    \hline
    0 & 0 & 0\\
    0 & 1 & 0\\
    1 & 0 & 0\\
    1 & 1 & 1\\
\end{tabular}

\[ y = \begin{cases}
    a \quad \text{se} \, =0\\
        b \quad \text{se} \,a = 1\\
    \end{cases}
\]

Segnale $a$ \'e usato come selettore

Difetto: non abbiamo margine con l'immunit\'a ai disturbi

(X : Circuito and con multiplexer e transistor)

\underline{OR}

\begin{tabular}{c c|c}
    a & b & y\\
    \hline
    0 & 0 & 0\\
    0 & 1 & 1\\
    1 & 0 & 1\\
    1 & 1 & 1\\
\end{tabular}

(X: Circuito or con multiplexer transistor)

Mentre connettendo stadi cmos, la corrente di gate \'e nulla, in questo caso (pass transistor) la corrente che circola non \'e nulla. Il tempo di propagazione dipende dal tempo di carica e scarica delle capacit\'a parassita

Nel pass transistor le capacit\'a parassita sono caricate dalla corrente che entra in ingresso. In questo caso devo caricare una maggiore capacit\'a con a disposizione una corrente piu debole. Auentare il numero degli stadi vuol dire aumentare la capacit\'a da caricare e la resistenza



% Appunti Thu 06 Jun 2019 02:42:48 PM CEST
\newpage
\section{Appunti Thu 06 Jun 2019 02:42:48 PM CEST}

% Scorsa lezione
Bit Line:

Wired line

Meccanismo di indirizzamento attraverso un decoder

Decoder si frammenta in una struttura gerarchica id pi\'u righe e decoder

Rimane da capire cosa c'e' in un incrocio

%

R/W segnale di controllo che specifica lettura e scrittura

Memorie a sola lettura: Piu semplice ed economica rispetto ad una memmoria RW.

Classificazione tra memorie:

\begin{itemize}
    \item ROM: Read Only Memory; Il contenuto rimane invariato, si pone il problema di definire una volta per tutte il contenuto:
        \begin{itemize}
            \item (MP) Rom (Mask Programmable); Programmate in fabbrica

            \item \textbf{FP ROM} (Field Programmable ROM); Programmata dall'utente

                Genericamente chiamata (PROM: Rom Programmabile)
        \end{itemize}
    \item RWM: Read Write Memory
        \begin{itemize}
            \item Volatile RWM: Perde i dati quando manca l'alimentazione (RAM: Random Access Memory, Memoria ad accesso Arbitrario). Il tempo d'accesso all'informazione non dipende dalla posizione del dato (indirizzo).
                \begin{itemize}
                    \item Dato Memorizzato in maniera Statica (SRAM: Static Ram)
                    \item Dato Memorizzato in maniera Dinamica (DRAM: Dynmic RAM)
                \end{itemize}
            \item Non Volatile RWM: Permanente una volta che \'e stato scritto un dato, esso rimane nel tempo indefinitamente
                \begin{itemize}
                    \item EPROM
                    \item $E^2$PROM
                    \item FLASH EPROM
                    \item $\ldots$
                \end{itemize}
                La sigla ROM indica che l'operazione di lettura e di scrittura sono radicalmente diverse (tempi, tensioni applicate, $ldots$), sono progettate per essere lette frequentemente e programmate o scritte non cosi spesso.

                Chiamate Memorie a Prevalente Lettura (\textit{Read Mostly Memory})
        \end{itemize}
\end{itemize}

Come progettare L'incrocio con la memoria ROM

Ogni colonna di questa matrice \'e implementabile come la tabella di verit\'a alimentata dal decoder.

Per avere l'uscita negata basta che inverta la logica del circuito
% Nor

\textbf{NOR-BASED}

Se sulla tabella di verti\'a leggo uno $\rightarrow$ transistore nella rispettiva \textit{word}? line.
Anzich\'e invertire l'uscita, basta invertire se mettere o no il transistore in ingresso

Per programmare la memoria:

\begin{itemize}
    \item
        Nel caso in cui la programmi il fabbricante, sceglie se mettere o no il transistore, non \'e molto pratico, siccome la costruzione dei transistori \'e una delle prime fasi.

        Quello che si pu\'o fare \'e invece che agire sulle fasi iniziali della progettazione, agiamo sulle fasi finali: Costruisco una matrice, dove i transistori ci sono tutti; Ma siccome ogni transistore \'e collegato alla linea di bit, vuol dire che li devo connettere fisicamente alla linea metallica del segnale della bitline.

        Ovverso scelgo se collegare o no il transistore alla bitline. Se non lo collego, si comporta come se non ci fosse.
        \'E molto piu costoso differenziare i progetti, piuttosto che produrre qualche transistore in pi\'u.

        Rimane vero che il costo di questa operazione \'e elevato, si giustiica solamente per volumi di produzione sufficentemente grandi (MPROM)

    \item Programmazione sul campo, connetto tutti i transistori, attraverso un interconnessione particolare, rappresentabile impropiamente come un fusibile (tratto di circuito a resistenza elevata, se si scalda a sufficenza interrompe il circuito).

        La pista del fusiblile non si fonde quando leggo, ma quando scrivo: Corrente di fusione di programmazione \'e pi\'u alta,

        Fondere dove ho bisogno di un 1 nella tabella di verit\'a

    \item  Un altro metodo \'e scegliere la tensione di soglia $V_T$ dei transistori.
        \'E necessario modificare la tensione di soglia dinamicamente. Per non riportare il problema alla fabbricazione
        Tensione di soglia: Tensione da applicare al gate per far si che si formi sotto al gate un canale conduttivo, che corrisponde ad una certa densit\'a di elettroni.

        Se all'interno dell'ossido \'e intrappolata una carica negativa: Neutralizza una parte della carica positiva di Gate: La tensione di soglia si alza: \'E necessaria pi\'u carica di gate per avere la stessa tensione di soglia

        \textbf{Transistore a Doppio Gate}
\end{itemize}

Transistore a doppio gate: Ha dimensioni estremamente ridotte, quindi per \textit{Effetto tunnel} \'e possibile con probabilit\'a $\neq 0$ che un elettrone entri dentro lo strato isolato. Accelerando i portatori di canale posso fare si che una parte degli elettroni di canale entrino dentor e rimangano intrappolati dentro a questo \textit{Floating Gate}

In questo modo posso modificare la tensione di soglia variando le correnti di canale

Voglio che la velocit\'a degli elettroni (Energia cinetica)  di quando leggo e quando scrivo siano diverse (Pi\'u basse durante la lettura, pi\'u alte durante la programmazione). Segue che la lettura \'e molto pi\'u rapida

La probabilit\'a di effetto tunnel \'e molto ridotta per fare in modo che i dati non vengano variati durante la lettura.

A lungo andare \'e molto probabile che elettroni entrino dentro all'ossido, rimanendo permanentemente intrappolati. \textit{Fenomeno di Invecchiamento del transistore}. Il numero di volte che posso cancellare e programmare la memoria, non \'e infiito.

Vuol dire che posso leggere la memoria, un numero infinito di volte, ma posso scriverla solo un numero finito di volte. Non \'e utilizzabile come memoria centrale per un Computer. (Se ci voglio scrivere con una velocit\'a di 1 $GHz$ sarebbe esaurita in 1 secondo)

Chiamiamo queste memorie EPROM e  EEPROM (\textit{Elecrically Eraseable Programmable Read Only Memory})

\subsection{Memorie Voltatili}

Se connetto la cella alla bit line, la bit line influisce la cella: necessita distinzione tra lettura e scrittura.

Bistabile + Faccio competere con una rete forte se voglio scrivere ed una rete debole se voglio leggere (dalla cella): SRAM 5T(ransistori)

Alternativa: Condensatore isolato (Problema con capacit\'a parassita della bitline) (DRAM 1T), le operazioni di lettura sono molto pi\'u complicate). Si dice che la lettura \'e distruttiva.

Un altro problema \'e che se carico la cella, il condensatore \'e imperfetto, e poco alla volta perde carica. Periodicamente devo rigenerare i valori nelle celle (Operazione di Refresh). Questo rallenta le operazioni

Per questo motivo, le memorie di tipo statico sono significativamente pi\'u veloci delle memorie di tipo dinamico.

\subsection{Conversione ADC/DAC}
Ci limitiamo ad enunciare i principi (come nelle memorie) senza entrare nel dettaglio.

Convertitore ADC, entra un segnale esce una n-upla di bit, \'e implicita una perdita di informazione.

Immaginando che il segnale d'ingresso $V_{in}$ vari da 0 a $V_{SF}$.
Posso rappresentare in funzione dell'ingresso $V_{in}$ la rappresentazione decimale equivalente.

\begin{center}
\begin{tikzpicture}
    \begin{axis}[xmin=0, ymin=0]
        \addplot[color=red]{x};
    \end{axis}
\end{tikzpicture}
\end{center}


Assegno i possibiili valori d'ingresso a rispettivi valori binari per gli $a_0 \ldots a_n$: Processo di Quantizzazione
\[\frac{V_{FS}}{2^n} = Q\]

Se scelgo questo tipo di quantizzazione l'errore massimo \'e $Q$

\begin{center}
\begin{tikzpicture}
    \begin{axis}[xmin=0, ymin=0]
        \addplot[color=red]{x};
    \end{axis}
\end{tikzpicture}
\end{center}

In questo caso, tralasciando, l'ultimo intervallo l'errore massimo che ho \'e $\frac{Q}{2}$. Tutto questo funziona fino a quando non entro negli intervalli segnati.

% op amp
\begin{circuitikz}
    \draw (0, 0) node[op amp](oa){};
    \draw (-1, |- oa.-) node[left]{$t_1$} to[short , *-] (oa.-);
\end{circuitikz}

Serve un circuito in grado di leggere le soglie d'ingresso (Comparatore elementare)
\[ V_id = V_{i0} - t_1 > 0 \to V_{in} > t_1 \to V_u = V_M \]

Siccome devo osservare 3 soglie: 3 Amplificatori operazionali

% 3 op amp
\begin{circuitikz}

\end{circuitikz}
Codice a 3 monitor

($V_{FS}$ Tensione di fondoscala)

\begin{itemize}
    \item Generare i valori di riferimento:
        Siccome entra una corrente nulla nell'operazionale basta un partitore. (Per riprodurre le tensioni basta mettere resistenze proporzionali)
    \item ABC \'e gia un uscita digitale: Convertire il codice termometro in un codice binario

        \begin{minipage}{0.3\textwidth}
            \begin{tabular}{c c c|c c c }
                A & B & C & $a_1$ & $a_0$\\
                \hline
                0 & 0 & 0 & 0 & 0\\
                0 & 0 & 1 & 0 & 1\\
                0 & 1 & 0 & - & -\\
                0 & 1 & 1 & 1 & 0\\
                1 & 0 & 0 & - & -\\
                1 & 0 & 1 & - & -\\
                1 & 1 & 0 & - & -\\
                1 & 1 & 1 & 1 & 1\\
            \end{tabular}
        \end{minipage}
        \begin{minipage}{0.6\textwidth}
        \begin{tabular}{c|c|c|c|c|}
            A/BC & 00 & 01 & 11 & 10\\
            \hline
            0 & 0 & 0& 1 & -\\
            \hline
            1 & - & - & 1 & -\\
            \hline
        \end{tabular} $\Rightarrow a_1 = B$
        \bigbreak
        \begin{tabular}{c|c|c|c|c|}
            A/BC & 00 & 01 & 11 & 10\\
            \hline
            0 & 0 & 1& 0 & -\\
            \hline
            1 & - & - & 1 & -\\
            \hline
        \end{tabular} $\Rightarrow a_0 = A + \bar{B}C$
        \end{minipage}

        Convertitore di tipo Flash
\end{itemize}

Numero decimale che rappresenta l'n-upla di bit posso scriverlo come
\[A = \sum\limits_{i=0}^{n-1} a_i2^i  = 2^n\sum\limits_{i=0}^{n-1} a_i2^{i-n} \]
\[ \sum\limits_{i=0}^{n-1} a_i2^{i-n} \approx 1 \]

\[\sum\limits_{i=0}^{n-1} a_i2^{i-n} V_{FS} = a_{n-1}\frac{V_{FS}}{2} + a_{n-2}\frac{V_FS}{4} \ldots a_0\frac{V_{FS}}{2^n}\]

Ho ricondotto il problema ad una somma di tensioni proporzionale a $V_{FS}$ : Basta un circuito sommatore
% sommatore
\[ V_ = - \left( \frac{R}{R_1} V_1 + \frac{R}{R_2}V_2\right) \]

\[ V_u = a_1 \frac{V_{FS}}{2} + a_0\frac{V_{FS}}{4} \]
Immaginando di applicare il principio di sovrapposizione degli effetti
\[  a_1a_0 = 01\qquad V_u = \cancel{a_0}\frac{V_{FS}}{4} = -\left(\frac{R}{R_1}V_1 + \frac{R}{R_2} V_2\right) \]
\[ R_2 = 4R\frac{V_H}{V_{FS}} \]

Altro caso $a_1a_0 = 10$
\[ V_u = \cancel{a_1} \frac{V_{FS}}{2} + \cancel{a_0 + \frac{V_{FS}}{4}}  = -\frac{R}{R_1} V_H \to
    R_1 = 2R \frac{V_H}{V_{FS}}
\]


\end{document}

