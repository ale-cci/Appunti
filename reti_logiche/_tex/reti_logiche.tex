\documentclass{article}
\usepackage[oldvoltagedirection]{circuitikz}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{karnaugh-map}
\setlength\parindent{0pt}

\title{Reti Logiche}
\author{}
\graphicspath{{img/}}

\begin{document}
\maketitle{}
23 Sep 2019, 16:14
\section{Propiet\'a delle reti loiche}


\begin{itemize}
    \item{Intrconnessione}
    \item{Scomposizione}
        Uno schema logico pu\'o essere rappresentato come composizione di reti pi\'u semplici, (si arresta quando si arriva a \textit{reti logiche elemnetari})
    \item{Elementari}
        Descrivono causa effetto
\end{itemize}

Nei sistemi pratici la storia passata del sistema deve essere rappresentata attraverso un insieme finito di segnali. (i.e. il numero passato di stati della rete deve essere finito) (slide 36. 01\_Modelli)

La funzione di uscita della rete dipende da ingresso corrente e stato interno della rete.

\begin{itemize}
    \item{Funzione di uscita o funzione macchina: $z(t) = f(x(t), y(t))$ (tabella, lookup-table)}
    \item{Next step function: $Y(t) = g(x(t), y(t))$, $g(x, y)$ chiamata \textbf{Funzione di stato}}
    \item{Funzione di marcatura dello stato: $y(t + \Delta t) = Y(t)$ o $y(t) = Y(t - \Delta t)$}
\end{itemize}

% Figura slide 40: Modello di mealy, funzioni caratteristiche, (quelle sopra)
\begin{circuitikz}
    \draw (0, 0) node[anchor=east]{x} -- (1, 0) to[twoport, t=$f$, >, number inputs=2] (2, 0) -- (3, 0) node[anchor=west]{z};
\end{circuitikz}

Nelle reti logiche combinatorie manca la dipendena dal tempo (slide 41)

Reti sequenziali corrispondono al modello generale, contengono retroazione e ritardi

% Figura slide 43: Blocco f corisponde ad una rete combinatoria
% Ingresso non cambia facendo cambiare l'uscita, cambia facendo variare le variabili di stato. Una rete di questo modo viene chiamata "Modello di Moore"
% Una rete di questo tipo e' ancora una rete sequenziale

%es:
Rete senza ingressi provenienti dall'eseterno viene chiamata: rete autonoma.  ($y(t) = y(t+1)$: la rete \'e costante).
Altra alternativa \'e un comportamento ciclico.

%%% Guarda se togliere
Se:
$z = f(x)$ e $Y= g(x, y)$: rete combinatoria, dipende solo da $z$


Rete sequenziale con ingresso non attaccato a $g$ \'e rete combinatoria (sostituire con figura)

Rete sequenziale con uscita non attaccata a $g$ \'e rete combinatoria (sostituire con figura)

Sintesi multiuscita pg. 29 slide \_2\_RetiCombinatorie\_I\_parte

Numero funzioni di $n$ variabili $F(n) = 2^{2^n}$, slide 30

\begin{center}
    \begin{tabular}{c c c|c}
        $x_1$ & $x_2$ & $x_3$ & $f$\\
        \hline{}
        0 & 0 & 0 & 0\\
        0 & 0 & 1 & 0\\
        0 & 1 & 0 & 0\\
        0 & 1 & 1 & 1\\
        \hline{}
        1 & 0 & 0 & 0\\
        1 & 0 & 1 & 1\\
        1 & 1 & 0 & 1\\
        1 & 1 & 1 & 1\\
    \end{tabular}
\end{center}

Metodo somma di prodotti: prendo solo righe con 1, le scrivo come prodotti e le sommo

\[
    \begin{rcases}
        f_3 = \bar{x_1} x_2 x_3\\
        f_5 = x_1 \bar{x_2} x_3\\
        f_6 = x_1 x_2 \bar{x_3}\\
        f_7 = x_1 x_2 x_3
    \end{rcases}
    f =  \bar{x_1} x_2 x_3 + x_1 \bar{x_2} x_3 +  x_1 x_2 \bar{x_3} + x_1 x_2 x_3
\]

Applicbile a qualsiasi tabella combinatoria ( Espressione canonica \textit{sum of products} SP)


\subsection{Espressione canonica Prodotto di Somme: PS}

Data una tabella della verit\'a, consideriamo gli zeri della funzione (OFF-set). Per ogni zero possiamo costruire un termine somma in cui compaiono come variabili dipendenti tutte le variabili della funzione di partenza.
Le variabili compaiono in forma vera se compaiono come zeri, vengono prese in forma complementata se compaiono come 1 nella riga della tabella.

\[
    \begin{rcases}
        s_0 = x_1 x_2 x_3\\
        s_1 = x_1 x_2 \bar{x_3}\\
        s_2 = x_1 \bar{x_2} x_3\\
        s_4 = \bar{x_1} x_2 x_3
    \end{rcases}
    S =  (x_1 x_2 x_3)(x_1 x_2 \bar{x_3})(x_1 \bar{x_2} x_3)(\bar{x_1} x_2 x_3)
\]

% Equivalenza espressioni booleane - Reti Combinatorie (Slide 50)
% Manca Conta porte logiche N_op = 5 e N_M = 16
Si riescono a sintetizzare reti pi\'u ottimizzate attraverso le mappe di Karnugh o alg. Quiaf-McCluskeyt

N letterari: si applica su soltanto al max 2 livelli. Conta il numero di morsetti del $1^o$ livello (somma: $N_{let}$ = 12, prodotto 12, altro 6)

\section{24 Sep 2019,  9:02}
% Definizione min e max termine slide: reti combinatorie parte 2
Prendendo in considerazione l'esempio del Full-Adder (slide 4)
\subsection{Espressione canonica \textit{SoP} delle funzioni $S_0$ e $C_1$}
$S_0 = \bar{x_0} \bar{y_0} c_1 + \bar{x_0} y_0 \bar{c_0} + x_0 \bar{y_0} \bar{c_0} + x_0 y_0 c_0 = m_1 + m_2 + m_4 + m_7 = \sum m_3(1, 2, 4, 7)$\\
$C_1 = \bar{x_0} y_0 c_0 + x_0 \bar{y_0} c_0 + x_0 y_0 \bar{c_0} + x_0 y_0 c_0 = m_3 + m_5 + m_6 + m_7 = \sum m_3(3, 5, 6, 7)$

Un modo pi\'u preciso sarebbe: $S(x_0, y_0, c_0) $, esplicitando l'ordine in cui vengono prese le variabili

$\sum m_3$ indica la sommatoria dei mintermini di 3 variabili


\subsection{Espressione canonica \textit{PoS}}

$S_0 (x_0, y_0, c_0) = (x_0 + y_0 + c_0) (x_0 + \bar{y_0} + \bar{c_0}) (\bar{x_0} + y_0 + \bar{c_0}) (\bar{x_0} + \bar{y_0} + c_0) = M_0 M_3 M_5 M_6 = \prod M_3(0, 3, 5, 6)$


\subsection{Teorema di Shannon}
Ogni espressione logica di $n$ variabili pu\'o essere espressa come:

\[f(x_1, x_2, \ldots, x_n) = x_1 \cdot f(0, x_2, \ldots, x_n) + x_1 \cdot f(1, x_2, \ldots, x_n)\]

Dall'espressione di una funzione riusciamo a riottenere la somma dei mintermini, utilizzando il th.\ di Shannon:

\[
    \begin{split}
        z &= x_1 x_2 + x_1 x_3 + x_2 x_3 = \\
         &= \bar{x_1} ( 0 \cdot x_2 + 0 x_3 + x_2 x_3) + x_1 (1 x_2 + 1 x_3 + x_2 x_3) = \\
         &= \bar{x_1} (x_2 x_3) + x_1 (x_2 + x_3 + x_2 x_3) = \\
         &= \bar{x_2} (x_1 (0 x_3) + x_1 (0 + x_3 + 0 x_3)) + x_2 (\bar{x_1} (1 x_3) + x_1 (1 + x_2 + 1 x_3)) =\\
         &= \bar{x_2} (x_1 x_3) + x_2 (\bar{x_1} x_3 + x_1) =\\
         &= \bar{x_3} (\bar{x_2} x_1 0 + x_2 \bar{x_1} 0 + x_2 x_1) + x_3 (\bar{x_2} x_1 1 + x_2 \bar{x_1} 1 + x_2 x_1) =\\
         &= \bar{x_2} x_2 x_1 + x_3 \bar{x_2} x_1 + x_3 x_2 \bar{x_1} + x_3 x_2 x_1 =\\
         &= m_3 + m_5 + m_6 + m_7
  \end{split}
  \]


Le leggi di de morgan dimostrano che le famiglie (And-Not) e (Or-Not) sono funzionalmente complete.

% TODO: Immagine circuito
% TODO: Immagine decoder con mintermini

DECODER: ad $n$ ingresi corrispondono $2^n$ uscite

\begin{figure}[h]
    \includegraphics[width=0.4\textwidth]{decoder}
    \centering
    \caption{decoder}
\end{figure}
% TODO: Immagine decoder con MAXTERMINI (Decoder 3:8 a OR)
% TODO: De morgan con OR (ingresso al centro negato) -> AND negati invertiti
% Simbolo nand si puo fare con frecce
% TODO: Decoder a nand (produce MAXTERMINI)

\textbf{Espressione generale SP}: $f(x_{n-1}, \ldots, x_1, x_0) = \sum_{i=0, 2^n -1} m(i) f(i)$

\textbf{Espressione generale PS}: $f(x_{n-1}, \ldots, x_1, x_0) = \prod_{i=0, 2^n -1} (M(i) +f(i))$

%TODO: foto multiplexer a 8 canali con 3 var di selezione del canale Aggiungendo valori della funzione con carry out guarda foto
Il decoder sta in corrispondenza con le espressioni canoniche, il multiplexer sta un corrispondenza con le espressioni generali.


\section{25 Sep 2019, 14:46}
%TODO: Immagine 1

%\begin{center}
%\begin{figure}[h]
%    \includegraphics[width=0.4\textwidth]{reti_shannon.png}
%    \centering
%    \caption{Reti combinatorie equivalenti per il Th. di Shannon}
%\end{figure}
%\end{center}


\begin{itemize}
    \item{Il segnale RC ($RC_0$ e $RC_1$) dipendono da $n-1$ variabili. e non da $n$ variabili.}
    \item{$RC_0$ e $RC_1$ potrebbero essere semplificabili}
\end{itemize}

Una funzione di n variabili pu\'o essere espressa come una combinazione di due funzioni di n-1 variabili attraverso un Multiplexer.
\[f(x_1, x_2, \ldots, x_n) = \bar{x_1}\bar{x_2} f(0, 0, \ldots, x_n) + \bar{x_1} x_2 f(0, 1, \ldots, x_n) + x_1 \bar{x_2} f(1, 0, \ldots, x_n) + x_1 x_2 f(1, 1, \ldots, x_n)\]

Funzione semplificata di due variabili con Th.\ di Shannon.
%TODO: Immagine 2


\begin{minipage}{0.4\textwidth}
\begin{center}
    \begin{karnaugh-map}[4][4][1][$C D$][$A B$]
        \minterms{1,4,5,6,7,12,15,14,9}
        \autoterms[0]

        \implicant{0}{2}
        \implicant{4}{6}
        \implicant{12}{14}
        \implicant{8}{10}
    \end{karnaugh-map}
\end{center}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\[
    \begin{split}
        f_0 &= \bar{C} D\\
        f_1 &= 1\\
        f_3 &= C + \bar{D}\\
        f_2 &= \bar{C} D
    \end{split}
\]
\end{minipage}

\begin{minipage}{0.4\textwidth}
\begin{center}
    \begin{karnaugh-map}[4][4][1][$C D$][$A B$]
        \minterms{1,4,5,6,7,12,15,14,9}
        \autoterms[0]

        \implicant{0}{6}
        \implicant{12}{10}
    \end{karnaugh-map}
\end{center}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\[
    \begin{split}
        f_0 &= B + \bar{C} D\\
        f_1 &= B \bar{D} + BC + \bar{B}\bar{C}D
    \end{split}
\]
\end{minipage}

Supponendo di dover realizzare la funzione con un multiplexer a 4 vie, utilizzando esclusivamente un mux e non altri componenti:

%TODO: Immagine  (3 mux a 4 vie)

Nel caso in cui fossimo partiti dalle variabili $CD$:

%TODO: Stessa mappa k con raccoglimenti verticali
\[
    \begin{split}
        f_0 &= B\\
        f_1 &= \bar{A} + \bar{B} = \bar{A\cdot B}\\
        f_2 &= B\\
        f_3 &= B
    \end{split}
\]

\begin{itemize}
    \item Espressione canonica SP
        \begin{itemize}
            \item AND per mintermini + OR
            \item Decoder + or
        \end{itemize}
    \item Espressione canonica PS
        \begin{itemize}
            \item OR per Maxtermini + AND
            \item Decoder a NAND + AND
        \end{itemize}
    \item Espressione generale SP e PS: MuX
    \item Espressione parziali: (1 MUx + altro)
\end{itemize}

\begin{tabular}{c c c| c c}
    a & b & c & Sum & Count\\
    \hline
    0 & 0 & 0 & 0 & 0\\
    0 & 0 & 1 & 1 & 0\\
    0 & 1 & 0 & 1 & 0\\
    0 & 1 & 1 & 0 & 1\\
    1 & 0 & 0 & 1 & 0\\
    1 & 0 & 1 & 0 & 1\\
    1 & 1 & 0 & 0 & 1\\
    1 & 1 & 1 & 1 & 1\\
\end{tabular}


$\text{Count} = \bar{a}b c + a\bar{b} c + a b \bar{c} + a b c = \bar{a} b c + a \bar{b} c + ab$

\[
    \begin{cases}
        N_{op} = 5\\
        N_m = 3 \cdot 4 + 4 = 16
    \end{cases} \to
    \begin{cases}
        N_{op} = 4\\
        N_m = 11
    \end{cases}
\]

Definiamo come \textbf{distanza di Hamming} ($\mathcal{D}_H$) il numero di bit che differiscono in 2 configurazioni binarie

Es: $\mathcal{D}_H ( 1 1 0, 1 1 1) = 1$

Se $\mathcal{D}_H (C_i, C_j) = 1 \Rightarrow C_i\, \text{e}\, C_j$ sono \textbf{adiacenti}.

% Slide 20

\begin{center}
\begin{karnaugh-map}[4][2][1][$bc$][$a$]
    \minterms{3,5,6,7}
    \autoterms[0]
    \implicant{5}{7}
    \implicant{7}{6}
    \implicant{3}{7}
\end{karnaugh-map}
\end{center}

Raggruppamento rettangolare di 2 caselle $2^1$ caselle ($2^k = 2^1$) (Raggruppamento di ordine 1)

% Slide 23
$C_{out} = I_1 + I_2 + I_3 = ac + ab + bc$ \qquad($N_{op} = 4 , N_m = 9$)


\begin{center}
    \begin{karnaugh-map}[4][4][2][$cd$][$ab$][$E$]
        \minterms{1,4,5,6,7,12,14,15,9}
        \indeterminants{13}

        %E = 1
        \minterms{20,28,25,31}
        \indeterminants{16,18,30,26,29,23}
        \autoterms[0]

        \implicant{1}{9}
        \implicant{4}{14}
        \implicant{12}{14}[0,1]
        \implicant{13}{9}[0,1]
        \implicant{4}{12}[0,1]
    \end{karnaugh-map}
\end{center}
$Z(a, b, c, d ,e)$

'-' rappresenta una condizione di indifferenza.

Nei raggruppamenti prendo in considerazione le variabili che rimangono costanti

\[
    Z(a, b, c, d ,e) = b\bar{e} + \bar{c}d\bar{e} + b \bar{c}\bar{d} + a \bar{c}d + ab
\]


$N_{lett} = 13$, ingressi del primo livello

$N_{op} = 6$, numero mintermini + 1

$N_m = 18$, tutte le lettere che compaiono + mintermini

% TODO: Raggruppa come in figura 6
\subsection{Sintesi prendendo in considerazione gli zeri}
Uno 0 di una funzione \'e un maxtermine, ed esprime un solo 0. L'obbiettivo \'e costruire termini somma (Implicati)

\begin{center}
    \begin{karnaugh-map}[4][4][2][$cd$][$ab$][$E$]
        \minterms{1,4,5,6,7,12,14,15,9}
        \indeterminants{13}

        %E = 1
        \minterms{20,28,25,31}
        \indeterminants{16,18,30,26,29,23}
        \autoterms[0]

        \implicantcorner[0,1]
        \implicantedge{3}{2}{11}{10}[0,1]
        \implicant{17}{23}
        \implicant{19}{22}
    \end{karnaugh-map}
\end{center}

\[ Z = (B + \bar{C})(A + \bar{D} + \bar{E})(\bar{C} + D + \bar{E})(B + D) = (B \downarrow \bar{C}) \downarrow (A\downarrow \bar{D}\downarrow\bar{E})\downarrow(\bar{C}\downarrow D\downarrow \bar{E})\downarrow (B\downarrow D)\]

$N_{op} = 5$

$N_{m} = 14$

Sintesi di $Z(A, B, C, D, E) $

\begin{itemize}
    \item mediante soli MUX a 4 vie
    \item 1 porta logica + MUX a 4 vie
\end{itemize}

%TODO: figura 6

\end{document}

