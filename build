#!/usr/bin/env sh
LIST=pdfs.txt

case "$1" in
    "-l")
        cat "$LIST"
        ;;
    -*)
        echo "Unrecognized Option $1"
        ;;
    *)
        grep "$1" "$LIST" | while read -r file
    do
        echo "Building $file..."
        (cd "$(dirname "$file")" && pdflatex "$(basename "$file")" && mv ./*.pdf ..)
    done
    ;;
esac
